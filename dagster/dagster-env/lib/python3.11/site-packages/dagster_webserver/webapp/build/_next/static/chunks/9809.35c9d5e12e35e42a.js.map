{"version":3,"file":"static/chunks/9809.35c9d5e12e35e42a.js","mappings":"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","sources":["webpack://_N_E/../ui-core/src/assets/auto-materialization/AssetDaemonTicksQuery.tsx","webpack://_N_E/../ui-core/src/assets/auto-materialization/AutomaterializationEvaluationHistoryTable.tsx","webpack://_N_E/../ui-core/src/assets/auto-materialization/AutomaterializationTickDetailDialog.tsx","webpack://_N_E/../ui-core/src/assets/auto-materialization/AutomaterializeRunHistoryTable.tsx","webpack://_N_E/../ui-core/src/assets/auto-materialization/DeclarativeAutomationBanner.tsx","webpack://_N_E/../ui-core/src/automation/AutomationAssetSelectionFragment.tsx","webpack://_N_E/../ui-components/src/components/DisclosureTriangleButton.tsx","webpack://_N_E/../ui-core/src/automation/AutomationTargetList.tsx","webpack://_N_E/../ui-core/src/instigation/LiveTickTimeline2.tsx","webpack://_N_E/../ui-core/src/instigation/TickHistory.tsx","webpack://_N_E/../ui-core/src/instigation/filterPermissionedInstigationState.tsx","webpack://_N_E/../ui-core/src/instigation/instigationStateSummary.tsx","webpack://_N_E/../ui-core/src/instigation/useInstigationStateReducer.tsx","webpack://_N_E/../ui-core/src/instigation/util.ts","webpack://_N_E/../ui-core/src/runs/usePaginatedRunsTableRuns.tsx","webpack://_N_E/../ui-core/src/schedules/CronTag.tsx","webpack://_N_E/../ui-core/src/schedules/ScheduleAssetSelectionsQuery.tsx","webpack://_N_E/../ui-core/src/schedules/SchedulesTable.tsx","webpack://_N_E/../ui-core/src/sensors/SensorMonitoredAssets.tsx","webpack://_N_E/../ui-core/src/sensors/SensorResetButton.tsx","webpack://_N_E/../ui-core/src/ticks/DynamicPartitionRequests.tsx","webpack://_N_E/../ui-core/src/ticks/SensorDryRunDialog.tsx","webpack://_N_E/../ui-core/src/sensors/SensorDetails.tsx","webpack://_N_E/../ui-core/src/sensors/SensorInfo.tsx","webpack://_N_E/../ui-core/src/sensors/SensorFragment.tsx","webpack://_N_E/../ui-core/src/sensors/AssetSensorTicksQuery.tsx","webpack://_N_E/../ui-core/src/assets/auto-materialization/SensorAutomaterializationEvaluationHistoryTable.tsx","webpack://_N_E/../ui-core/src/sensors/SensorPageAutomaterialize.tsx","webpack://_N_E/../ui-core/src/sensors/SensorPreviousRuns.tsx","webpack://_N_E/../ui-core/src/sensors/SensorRoot.tsx","webpack://_N_E/../ui-core/src/sensors/makeSensorKey.tsx","webpack://_N_E/../ui-core/src/ticks/DryRunRequestTable.tsx","webpack://_N_E/../ui-core/src/ticks/RunRequestFragment.tsx","webpack://_N_E/../ui-core/src/ticks/TickStatusTag.tsx","webpack://_N_E/../ui-core/src/ui/CheckAllBox.tsx","webpack://_N_E/../ui-core/src/ui/Filters/useInstigationStatusFilter.tsx","webpack://_N_E/../ui-core/src/workspace/VirtualizedScheduleRow.tsx","webpack://_N_E/../ui-core/src/workspace/VirtualizedSensorRow.tsx"],"sourcesContent":["import {gql} from '@apollo/client';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../../app/PythonErrorFragment';\n\nexport const ASSET_DAEMON_TICK_FRAGMENT = gql`\n  fragment AssetDaemonTickFragment on InstigationTick {\n    id\n    timestamp\n    endTimestamp\n    status\n    instigationType\n    error {\n      ...PythonErrorFragment\n    }\n    requestedAssetKeys {\n      path\n    }\n    requestedAssetMaterializationCount\n    autoMaterializeAssetEvaluationId\n    requestedMaterializationsForAssets {\n      assetKey {\n        path\n      }\n      partitionKeys\n    }\n  }\n\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n\nexport const ASSET_DAEMON_TICKS_QUERY = gql`\n  query AssetDaemonTicksQuery(\n    $dayRange: Int\n    $dayOffset: Int\n    $statuses: [InstigationTickStatus!]\n    $limit: Int\n    $cursor: String\n    $beforeTimestamp: Float\n    $afterTimestamp: Float\n  ) {\n    autoMaterializeTicks(\n      dayRange: $dayRange\n      dayOffset: $dayOffset\n      statuses: $statuses\n      limit: $limit\n      cursor: $cursor\n      beforeTimestamp: $beforeTimestamp\n      afterTimestamp: $afterTimestamp\n    ) {\n      id\n      ...AssetDaemonTickFragment\n    }\n  }\n\n  ${ASSET_DAEMON_TICK_FRAGMENT}\n`;\n","import {\n  Body2,\n  Box,\n  ButtonGroup,\n  ButtonLink,\n  Checkbox,\n  CursorHistoryControls,\n  CursorPaginationProps,\n  Spinner,\n  Table,\n} from '@dagster-io/ui-components';\nimport styled from 'styled-components';\n\nimport {AssetDaemonTickFragment} from './types/AssetDaemonTicksQuery.types';\nimport {Timestamp} from '../../app/time/Timestamp';\nimport {InstigationTickStatus} from '../../graphql/types';\nimport {TimeElapsed} from '../../runs/TimeElapsed';\nimport {TickStatusTag} from '../../ticks/TickStatusTag';\n\ninterface Props {\n  loading: boolean;\n  ticks: AssetDaemonTickFragment[];\n  statuses: Set<InstigationTickStatus>;\n  setStatuses: (statuses: Set<InstigationTickStatus>) => void;\n  setSelectedTick: (tick: AssetDaemonTickFragment | null) => void;\n  setTableView: (view: 'evaluations' | 'runs') => void;\n  paginationProps: CursorPaginationProps;\n}\n\nexport const AutomaterializationEvaluationHistoryTable = ({\n  loading,\n  ticks,\n  statuses,\n  setStatuses,\n  setSelectedTick,\n  setTableView,\n  paginationProps,\n}: Props) => {\n  return (\n    <Box>\n      <Box\n        flex={{justifyContent: 'space-between', alignItems: 'center'}}\n        padding={{vertical: 12, horizontal: 24}}\n        margin={{top: 32}}\n        border=\"top\"\n      >\n        <Box flex={{direction: 'row', gap: 8, alignItems: 'center'}}>\n          <ButtonGroup\n            activeItems={new Set(['evaluations'])}\n            buttons={[\n              {id: 'evaluations', label: 'Evaluations'},\n              {id: 'runs', label: 'Runs'},\n            ]}\n            onClick={(id: 'evaluations' | 'runs') => {\n              setTableView(id);\n            }}\n          />\n          {loading && !ticks?.length ? <Spinner purpose=\"body-text\" /> : null}\n        </Box>\n        <Box flex={{direction: 'row', gap: 12, alignItems: 'center'}}>\n          <StatusCheckbox\n            statuses={statuses}\n            setStatuses={setStatuses}\n            status={InstigationTickStatus.STARTED}\n          />\n          <StatusCheckbox\n            statuses={statuses}\n            setStatuses={setStatuses}\n            status={InstigationTickStatus.SUCCESS}\n          />\n          <StatusCheckbox\n            statuses={statuses}\n            setStatuses={setStatuses}\n            status={InstigationTickStatus.FAILURE}\n          />\n          <StatusCheckbox\n            statuses={statuses}\n            setStatuses={setStatuses}\n            status={InstigationTickStatus.SKIPPED}\n          />\n        </Box>\n      </Box>\n      <TableWrapper>\n        <thead>\n          <tr>\n            <th style={{width: 120}}>Timestamp</th>\n            <th style={{width: 90}}>Status</th>\n            <th style={{width: 90}}>Duration</th>\n            <th style={{width: 180}}>Result</th>\n          </tr>\n        </thead>\n        <tbody>\n          {/* Use previous data to stop page from jumping while new data loads */}\n          {ticks.map((tick, index) => {\n            // This is a hack for ticks that get stuck in started\n            const isTickStuckInStartedState =\n              index !== 0 &&\n              tick.status === InstigationTickStatus.STARTED &&\n              !paginationProps.hasPrevCursor;\n\n            return (\n              <tr key={tick.id}>\n                <td>\n                  <Timestamp timestamp={{unix: tick.timestamp}} timeFormat={{showTimezone: true}} />\n                </td>\n                <td>\n                  <TickStatusTag tick={tick} isStuckStarted={isTickStuckInStartedState} />\n                </td>\n                <td>\n                  {isTickStuckInStartedState ? (\n                    ' - '\n                  ) : (\n                    <TimeElapsed startUnix={tick.timestamp} endUnix={tick.endTimestamp} />\n                  )}\n                </td>\n                <td>\n                  {[InstigationTickStatus.SKIPPED, InstigationTickStatus.SUCCESS].includes(\n                    tick.status,\n                  ) ? (\n                    <ButtonLink\n                      onClick={() => {\n                        setSelectedTick(tick);\n                      }}\n                    >\n                      <Body2>\n                        {tick.requestedAssetMaterializationCount} materializations requested\n                      </Body2>\n                    </ButtonLink>\n                  ) : (\n                    ' - '\n                  )}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </TableWrapper>\n      <div style={{paddingBottom: '16px'}}>\n        <CursorHistoryControls {...paginationProps} />\n      </div>\n    </Box>\n  );\n};\n\nconst StatusLabels = {\n  [InstigationTickStatus.SKIPPED]: 'None requested',\n  [InstigationTickStatus.STARTED]: 'Started',\n  [InstigationTickStatus.FAILURE]: 'Failed',\n  [InstigationTickStatus.SUCCESS]: 'Requested',\n};\n\nfunction StatusCheckbox({\n  status,\n  statuses,\n  setStatuses,\n}: {\n  status: InstigationTickStatus;\n  statuses: Set<InstigationTickStatus>;\n  setStatuses: (statuses: Set<InstigationTickStatus>) => void;\n}) {\n  return (\n    <Checkbox\n      label={StatusLabels[status]}\n      checked={statuses.has(status)}\n      onChange={() => {\n        const newStatuses = new Set(statuses);\n        if (statuses.has(status)) {\n          newStatuses.delete(status);\n        } else {\n          newStatuses.add(status);\n        }\n        setStatuses(newStatuses);\n      }}\n    />\n  );\n}\n\nconst TableWrapper = styled(Table)`\n  th,\n  td {\n    vertical-align: middle !important;\n  }\n`;\n","import {gql, useQuery} from '@apollo/client';\nimport {Box, Caption, Colors, Icon, Spinner, Subtitle2} from '@dagster-io/ui-components';\nimport {useVirtualizer} from '@tanstack/react-virtual';\nimport {memo, useMemo, useRef, useState} from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {AssetDaemonTickFragment} from './types/AssetDaemonTicksQuery.types';\nimport {\n  AssetGroupAndLocationQuery,\n  AssetGroupAndLocationQueryVariables,\n} from './types/AutomaterializationTickDetailDialog.types';\nimport {Timestamp} from '../../app/time/Timestamp';\nimport {tokenForAssetKey} from '../../asset-graph/Utils';\nimport {AssetKeyInput, InstigationTickStatus} from '../../graphql/types';\nimport {TickDetailSummary} from '../../instigation/TickDetailsDialog';\nimport {useBlockTraceOnQueryResult} from '../../performance/TraceContext';\nimport {HeaderCell, HeaderRow, Inner, Row, RowCell} from '../../ui/VirtualizedTable';\nimport {buildRepoAddress} from '../../workspace/buildRepoAddress';\nimport {workspacePathFromAddress} from '../../workspace/workspacePath';\nimport {AssetLink} from '../AssetLink';\nimport {\n  AssetKeysDialog,\n  AssetKeysDialogEmptyState,\n  AssetKeysDialogHeader,\n} from '../AutoMaterializePolicyPage/AssetKeysDialog';\nimport {assetDetailsPathForKey} from '../assetDetailsPathForKey';\n\nconst TEMPLATE_COLUMNS = '30% 17% 53%';\n\nexport const AutomaterializationTickDetailDialog = memo(\n  ({\n    tick,\n    isOpen,\n    close,\n  }: {\n    tick: AssetDaemonTickFragment | null;\n    isOpen: boolean;\n    close: () => void;\n  }) => {\n    const [queryString, setQueryString] = useState('');\n\n    const filteredAssetKeys = useMemo(\n      () =>\n        tick\n          ? tick.requestedAssetKeys.filter((assetKey) =>\n              assetKey.path.join('/').includes(queryString),\n            )\n          : [],\n      [tick, queryString],\n    );\n\n    const count = tick?.requestedAssetKeys.length || 0;\n\n    const parentRef = useRef<HTMLDivElement | null>(null);\n    const rowVirtualizer = useVirtualizer({\n      count: filteredAssetKeys.length,\n      getScrollElement: () => parentRef.current,\n      estimateSize: () => 34,\n      overscan: 10,\n    });\n    const totalHeight = rowVirtualizer.getTotalSize();\n    const items = rowVirtualizer.getVirtualItems();\n\n    const assetKeyToPartitionsMap = useMemo(() => {\n      const map: Record<string, string[]> = {};\n      tick?.requestedMaterializationsForAssets.forEach(({assetKey, partitionKeys}) => {\n        map[tokenForAssetKey(assetKey)] = partitionKeys;\n      });\n      return map;\n    }, [tick?.requestedMaterializationsForAssets]);\n\n    const content = useMemo(() => {\n      if (queryString && !filteredAssetKeys.length) {\n        return (\n          <AssetKeysDialogEmptyState\n            title=\"No matching asset keys\"\n            description={\n              <>\n                No matching asset keys for <strong>{queryString}</strong>\n              </>\n            }\n          />\n        );\n      }\n      if (!tick?.requestedAssetKeys.length) {\n        return (\n          <Box padding={{vertical: 12, horizontal: 24}}>\n            <Caption color={Colors.textLight()}>None</Caption>\n          </Box>\n        );\n      }\n      return (\n        <div style={{overflow: 'scroll'}} ref={parentRef}>\n          <HeaderRow templateColumns={TEMPLATE_COLUMNS} sticky>\n            <HeaderCell>Asset</HeaderCell>\n            <HeaderCell>Group</HeaderCell>\n            <HeaderCell>Result</HeaderCell>\n          </HeaderRow>\n          <Inner $totalHeight={totalHeight}>\n            {items.map(({index, key, size, start}) => {\n              const assetKey = filteredAssetKeys[index]!;\n              return (\n                <AssetDetailRow\n                  key={key}\n                  $height={size}\n                  $start={start}\n                  assetKey={assetKey}\n                  partitionKeys={assetKeyToPartitionsMap[tokenForAssetKey(assetKey)]}\n                  evaluationId={tick.autoMaterializeAssetEvaluationId!}\n                />\n              );\n            })}\n          </Inner>\n        </div>\n      );\n    }, [assetKeyToPartitionsMap, filteredAssetKeys, items, queryString, tick, totalHeight]);\n\n    return (\n      <AssetKeysDialog\n        isOpen={isOpen}\n        setIsOpen={close}\n        height={400}\n        header={\n          <AssetKeysDialogHeader\n            title={\n              tick ? (\n                <div>\n                  <Timestamp timestamp={{unix: tick.timestamp}} timeFormat={{showTimezone: true}} />\n                </div>\n              ) : (\n                ''\n              )\n            }\n            showSearch={count > 0}\n            placeholder=\"Filter by asset key…\"\n            queryString={queryString}\n            setQueryString={setQueryString}\n          />\n        }\n        content={\n          <div\n            style={{\n              display: 'grid',\n              gridTemplateRows: 'auto auto minmax(0, 1fr)',\n              height: '100%',\n            }}\n          >\n            <Box padding={{vertical: 12, horizontal: 24}} border=\"bottom\">\n              {tick ? <TickDetailSummary tick={tick} /> : null}\n            </Box>\n            {tick?.status === InstigationTickStatus.STARTED ? null : (\n              <>\n                <Box\n                  padding={{vertical: 12, horizontal: 24}}\n                  border={filteredAssetKeys.length > 0 ? undefined : 'bottom'}\n                >\n                  <Subtitle2>Materializations requested</Subtitle2>\n                </Box>\n                {content}\n              </>\n            )}\n          </div>\n        }\n      />\n    );\n  },\n);\n\nconst AssetDetailRow = ({\n  $start,\n  $height,\n  assetKey,\n  partitionKeys,\n  evaluationId,\n}: {\n  $start: number;\n  $height: number;\n  assetKey: AssetKeyInput;\n  partitionKeys?: string[];\n  evaluationId: number;\n}) => {\n  const numMaterializations = partitionKeys?.length || 1;\n  const queryResult = useQuery<AssetGroupAndLocationQuery, AssetGroupAndLocationQueryVariables>(\n    ASSET_GROUP_QUERY,\n    {\n      fetchPolicy: 'cache-and-network',\n      variables: {\n        assetKey: {path: assetKey.path},\n      },\n    },\n  );\n  const {data} = queryResult;\n  useBlockTraceOnQueryResult(queryResult, 'AssetGroupAndLocationQuery');\n\n  const asset = data?.assetOrError.__typename === 'Asset' ? data.assetOrError : null;\n  const definition = asset?.definition;\n  const repoAddress = definition\n    ? buildRepoAddress(definition.repository.name, definition.repository.location.name)\n    : null;\n  return (\n    <Row $start={$start} $height={$height}>\n      <RowGrid border=\"bottom\">\n        <RowCell>\n          <AssetLink path={assetKey.path} icon=\"asset\" textStyle=\"middle-truncate\" />\n        </RowCell>\n        <RowCell>\n          {data ? (\n            definition && definition.groupName && repoAddress ? (\n              <Link\n                to={workspacePathFromAddress(repoAddress, `/asset-groups/${definition.groupName}`)}\n              >\n                <Box flex={{direction: 'row', gap: 8, alignItems: 'center'}}>\n                  <Icon color={Colors.textLight()} name=\"asset_group\" />\n                  {definition.groupName}\n                </Box>\n              </Link>\n            ) : (\n              <Caption color={Colors.textLight()}>Asset not found</Caption>\n            )\n          ) : (\n            <Spinner purpose=\"body-text\" />\n          )}\n        </RowCell>\n        <RowCell>\n          <Link\n            to={assetDetailsPathForKey(assetKey, {\n              view: 'automation',\n              evaluation: `${evaluationId}`,\n            })}\n          >\n            {numMaterializations} materialization{numMaterializations === 1 ? '' : 's'} requested\n          </Link>\n        </RowCell>\n      </RowGrid>\n    </Row>\n  );\n};\n\nconst RowGrid = styled(Box)`\n  display: grid;\n  grid-template-columns: ${TEMPLATE_COLUMNS};\n  height: 100%;\n  > * {\n    justify-content: center;\n  }\n`;\n\nconst ASSET_GROUP_QUERY = gql`\n  query AssetGroupAndLocationQuery($assetKey: AssetKeyInput!) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        definition {\n          id\n          groupName\n          repository {\n            id\n            name\n            location {\n              id\n              name\n            }\n          }\n        }\n      }\n    }\n  }\n`;\n","import {Box, ButtonGroup, CursorHistoryControls} from '@dagster-io/ui-components';\nimport styled from 'styled-components';\n\nimport {useQueryRefreshAtInterval} from '../../app/QueryRefresh';\nimport {useBlockTraceOnQueryResult} from '../../performance/TraceContext';\nimport {RunTable} from '../../runs/RunTable';\nimport {\n  RunsRootQuery,\n  RunsRootQueryVariables,\n} from '../../runs/types/usePaginatedRunsTableRuns.types';\nimport {useCursorPaginatedQuery} from '../../runs/useCursorPaginatedQuery';\nimport {RUNS_ROOT_QUERY} from '../../runs/usePaginatedRunsTableRuns';\n\nconst PAGE_SIZE = 15;\n\nexport const AutomaterializeRunHistoryTable = ({\n  filterTags,\n  setTableView,\n}: {\n  filterTags?: {key: string; value: string}[];\n  setTableView: (view: 'evaluations' | 'runs') => void;\n}) => {\n  const {queryResult, paginationProps} = useCursorPaginatedQuery<\n    RunsRootQuery,\n    RunsRootQueryVariables\n  >({\n    nextCursorForResult: (runs) => {\n      if (runs.pipelineRunsOrError.__typename !== 'Runs') {\n        return undefined;\n      }\n      return runs.pipelineRunsOrError.results[PAGE_SIZE - 1]?.id;\n    },\n    getResultArray: (data) => {\n      if (!data || data.pipelineRunsOrError.__typename !== 'Runs') {\n        return [];\n      }\n      return data.pipelineRunsOrError.results;\n    },\n    variables: {\n      filter: {\n        tags: [...(filterTags || []), {key: 'dagster/auto_materialize', value: 'true'}],\n      },\n    },\n    query: RUNS_ROOT_QUERY,\n    pageSize: PAGE_SIZE,\n  });\n  useBlockTraceOnQueryResult(queryResult, 'RunsRootQuery');\n\n  useQueryRefreshAtInterval(queryResult, 15 * 1000);\n\n  const runData = (queryResult.data || queryResult.previousData)?.pipelineRunsOrError;\n\n  return (\n    <Box>\n      <Wrapper>\n        <Box padding={{vertical: 12, horizontal: 24}} margin={{top: 32}} border=\"top\">\n          <ButtonGroup\n            activeItems={new Set(['runs'])}\n            buttons={[\n              {id: 'evaluations', label: 'Evaluations'},\n              {id: 'runs', label: 'Runs'},\n            ]}\n            onClick={(id: 'evaluations' | 'runs') => {\n              setTableView(id);\n            }}\n          />\n        </Box>\n        <RunTable runs={runData?.__typename === 'Runs' ? runData.results : []} />\n      </Wrapper>\n      <div style={{paddingBottom: '16px'}}>\n        <CursorHistoryControls {...paginationProps} />\n      </div>\n    </Box>\n  );\n};\n\n// Super hacky but easiest solution to position the action button\nconst Wrapper = styled.div`\n  position: relative;\n  > *:nth-child(2) {\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n`;\n","import {Alert} from '@dagster-io/ui-components';\n\nexport const DeclarativeAutomationBanner = () => {\n  return (\n    <Alert\n      intent=\"info\"\n      title=\"[Experimental] Dagster can automatically materialize assets when criteria are met.\"\n      description={\n        <>\n          Automation conditions enable a declarative approach to asset automation. Instead of\n          defining imperative workflows to execute your assets, you just describe the conditions\n          under which they should be executed.{' '}\n          <a\n            href=\"https://docs.dagster.io/concepts/automation/declarative-automation\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Learn more about declarative automation here\n          </a>\n          .\n        </>\n      }\n    />\n  );\n};\n","import {gql} from '@apollo/client';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\n\nexport const AUTOMATION_ASSET_SELECTION_FRAGMENT = gql`\n  fragment AutomationAssetSelectionFragment on AssetSelection {\n    assetSelectionString\n    assetsOrError {\n      ... on AssetConnection {\n        nodes {\n          id\n          ...AssetSelectionNodeFragment\n        }\n      }\n      ... on PythonError {\n        ...PythonErrorFragment\n      }\n    }\n  }\n\n  fragment AssetSelectionNodeFragment on Asset {\n    id\n    key {\n      path\n    }\n    definition {\n      id\n      autoMaterializePolicy {\n        __typename\n      }\n    }\n  }\n\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {Icon} from './Icon';\nimport {UnstyledButton} from './UnstyledButton';\n\ntype Props = {\n  isOpen: boolean;\n  onToggle: (e: React.MouseEvent<HTMLButtonElement>) => void;\n};\nexport const DisclosureTriangleButton = ({isOpen, onToggle}: Props) => {\n  return (\n    <UnstyledButton\n      onClick={(e) => {\n        onToggle(e);\n      }}\n      style={{cursor: 'pointer', width: 18}}\n    >\n      <Icon\n        name=\"arrow_drop_down\"\n        style={{transform: isOpen ? 'rotate(0deg)' : 'rotate(-90deg)'}}\n      />\n    </UnstyledButton>\n  );\n};\n","import {\n  Box,\n  Button,\n  ButtonLink,\n  Caption,\n  Colors,\n  Dialog,\n  DialogFooter,\n  DisclosureTriangleButton,\n  MiddleTruncate,\n  Subtitle2,\n  Tag,\n} from '@dagster-io/ui-components';\nimport {useMemo, useState} from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {\n  AssetSelectionNodeFragment,\n  AutomationAssetSelectionFragment,\n} from './types/AutomationAssetSelectionFragment.types';\nimport {showCustomAlert} from '../app/CustomAlertProvider';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {COMMON_COLLATOR} from '../app/Util';\nimport {displayNameForAssetKey, isHiddenAssetGroupJob} from '../asset-graph/Utils';\nimport {assetDetailsPathForKey} from '../assets/assetDetailsPathForKey';\nimport {SensorType} from '../graphql/types';\nimport {PipelineReference} from '../pipelines/PipelineReference';\nimport {VirtualizedItemListForDialog} from '../ui/VirtualizedItemListForDialog';\nimport {numberFormatter} from '../ui/formatters';\nimport {isThisThingAJob, useRepository} from '../workspace/WorkspaceContext';\nimport {RepoAddress} from '../workspace/types';\n\ntype AutomationType = 'schedule' | SensorType;\n\nexport const AutomationTargetList = ({\n  assetSelection,\n  automationType,\n  targets,\n  repoAddress,\n}: {\n  automationType: AutomationType;\n  repoAddress: RepoAddress;\n  targets: {pipelineName: string}[] | null;\n  assetSelection: AutomationAssetSelectionFragment | null;\n}) => {\n  const repo = useRepository(repoAddress);\n  if (!targets && !assetSelection) {\n    return <span />;\n  }\n\n  const visibleTargets = targets?.filter((target) => !isHiddenAssetGroupJob(target.pipelineName));\n\n  if (assetSelection) {\n    return <AssetSelectionTag assetSelection={assetSelection} automationType={automationType} />;\n  }\n\n  if (visibleTargets?.length) {\n    return (\n      <Box flex={{direction: 'row', gap: 4}}>\n        {visibleTargets.map((target) =>\n          target.pipelineName ? (\n            <Tag icon=\"job\" tooltipText={target.pipelineName} key={target.pipelineName}>\n              <PipelineReference\n                key={target.pipelineName}\n                pipelineName={target.pipelineName}\n                pipelineHrefContext={repoAddress}\n                isJob={!!(repo && isThisThingAJob(repo, target.pipelineName))}\n              />\n            </Tag>\n          ) : null,\n        )}\n      </Box>\n    );\n  }\n\n  return (\n    <Tag>\n      <div style={{color: Colors.textLight()}}>None</div>\n    </Tag>\n  );\n};\n\nconst ALL_ASSETS_STRING = 'all materializable assets';\n\nconst AssetSelectionTag = ({\n  assetSelection,\n  automationType,\n}: {\n  assetSelection: AutomationAssetSelectionFragment;\n  automationType: AutomationType;\n}) => {\n  const [showAssetSelection, setShowAssetSelection] = useState(false);\n\n  const error =\n    assetSelection.assetsOrError.__typename === 'PythonError' ? assetSelection.assetsOrError : null;\n\n  const sortedAssets = useMemo(() => {\n    if (assetSelection.assetsOrError.__typename === 'PythonError') {\n      return [];\n    }\n    return assetSelection.assetsOrError.nodes\n      .slice()\n      .sort((a, b) =>\n        COMMON_COLLATOR.compare(displayNameForAssetKey(a.key), displayNameForAssetKey(b.key)),\n      );\n  }, [assetSelection.assetsOrError]);\n\n  const assetsWithAMP = useMemo(\n    () => sortedAssets.filter((asset) => !!asset.definition?.autoMaterializePolicy),\n    [sortedAssets],\n  );\n  const assetsWithoutAMP = useMemo(\n    () => sortedAssets.filter((asset) => !asset.definition?.autoMaterializePolicy),\n    [sortedAssets],\n  );\n\n  const assetSelectionString = assetSelection.assetSelectionString || '';\n  const isAllAssets = assetSelectionString === ALL_ASSETS_STRING;\n  const firstAsset = sortedAssets[0];\n\n  if (firstAsset && sortedAssets.length === 1) {\n    return (\n      <Tag icon=\"asset\">\n        <Link to={assetDetailsPathForKey(firstAsset.key)}>{assetSelectionString}</Link>\n      </Tag>\n    );\n  }\n\n  return (\n    <>\n      <Dialog\n        isOpen={showAssetSelection}\n        title=\"Targeted assets\"\n        onClose={() => setShowAssetSelection(false)}\n        style={{width: '750px', maxWidth: '80vw', minWidth: '500px'}}\n        canOutsideClickClose\n        canEscapeKeyClose\n      >\n        <Box\n          flex={{direction: 'column'}}\n          style={{height: '50vh', maxHeight: '1000px', minHeight: '400px'}}\n        >\n          {automationType === SensorType.AUTO_MATERIALIZE ||\n          automationType === SensorType.AUTOMATION ? (\n            <>\n              <Section\n                title=\"Assets with a materialization policy\"\n                titleBorder=\"bottom\"\n                assets={assetsWithAMP}\n              />\n              <Section\n                title=\"Assets without a materialization policy\"\n                titleBorder=\"top-and-bottom\"\n                assets={assetsWithoutAMP}\n              />\n            </>\n          ) : (\n            <Section assets={sortedAssets} />\n          )}\n        </Box>\n        <DialogFooter topBorder>\n          <Button\n            intent=\"primary\"\n            onClick={() => {\n              setShowAssetSelection(false);\n            }}\n          >\n            Close\n          </Button>\n        </DialogFooter>\n      </Dialog>\n      <Tag\n        icon={sortedAssets.length === 1 ? 'asset' : 'asset_group'}\n        intent={error ? 'danger' : 'none'}\n      >\n        <ButtonLink\n          onClick={() => {\n            if (error) {\n              showCustomAlert({\n                title: 'Python error',\n                body: <PythonErrorInfo error={error} />,\n              });\n            } else {\n              setShowAssetSelection(true);\n            }\n          }}\n          color={error ? Colors.textRed() : Colors.linkDefault()}\n        >\n          {error\n            ? 'Error loading asset selection'\n            : isAllAssets\n            ? 'All materializable assets'\n            : assetSelectionString}\n        </ButtonLink>\n      </Tag>\n    </>\n  );\n};\n\nconst Section = ({\n  assets,\n  title,\n  titleBorder = 'top-and-bottom',\n}: {\n  assets: AssetSelectionNodeFragment[];\n  title?: string;\n  titleBorder?: React.ComponentProps<typeof Box>['border'];\n}) => {\n  const [isOpen, setIsOpen] = useState(true);\n  return (\n    <>\n      {title ? (\n        <Box border={titleBorder} padding={{right: 24, vertical: 12}}>\n          <Box\n            flex={{direction: 'row', gap: 4}}\n            style={{cursor: 'pointer'}}\n            onClick={() => {\n              setIsOpen(!isOpen);\n            }}\n          >\n            <DisclosureTriangleButton onToggle={() => {}} isOpen={isOpen} />\n            <Subtitle2>\n              {title} ({numberFormatter.format(assets.length)})\n            </Subtitle2>\n          </Box>\n        </Box>\n      ) : null}\n      {isOpen ? (\n        assets.length ? (\n          <div style={{height: '100%', overflowY: 'hidden'}}>\n            <VirtualizedItemListForDialog\n              padding={0}\n              items={assets}\n              renderItem={(asset) => <VirtualizedSelectedAssetRow asset={asset} key={asset.id} />}\n              itemBorders\n            />\n          </div>\n        ) : (\n          <Box padding={{horizontal: 24, vertical: 12}}>\n            <Caption color={Colors.textLight()}>0 assets</Caption>\n          </Box>\n        )\n      ) : null}\n    </>\n  );\n};\n\nconst VirtualizedSelectedAssetRow = ({asset}: {asset: AssetSelectionNodeFragment}) => {\n  return (\n    <Box\n      flex={{alignItems: 'center', gap: 4}}\n      style={{cursor: 'pointer'}}\n      padding={{horizontal: 24}}\n    >\n      <Link to={assetDetailsPathForKey(asset.key)} target=\"_blank\">\n        <Box style={{overflow: 'hidden'}}>\n          <MiddleTruncate text={displayNameForAssetKey(asset.key)} />\n        </Box>\n      </Link>\n    </Box>\n  );\n};\n","import {Caption, Colors, Tooltip, ifPlural, useViewport} from '@dagster-io/ui-components';\nimport dayjs from 'dayjs';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport memoize from 'lodash/memoize';\nimport {memo, useContext, useEffect, useMemo, useState} from 'react';\nimport styled from 'styled-components';\n\nimport {HistoryTickFragment} from './types/InstigationUtils.types';\nimport {isStuckStartedTick} from './util';\nimport {TimeContext} from '../app/time/TimeContext';\nimport {browserTimezone} from '../app/time/browserTimezone';\nimport {AssetDaemonTickFragment} from '../assets/auto-materialization/types/AssetDaemonTicksQuery.types';\nimport {InstigationTickStatus} from '../graphql/types';\n\ndayjs.extend(relativeTime);\n\nconst COLOR_MAP = {\n  [InstigationTickStatus.SUCCESS]: Colors.accentGreen(),\n  [InstigationTickStatus.FAILURE]: Colors.accentRed(),\n  [InstigationTickStatus.STARTED]: Colors.accentLavender(),\n  [InstigationTickStatus.SKIPPED]: Colors.backgroundDisabled(),\n};\n\nconst HoverColorMap = {\n  [InstigationTickStatus.SUCCESS]: Colors.accentGreenHover(),\n  [InstigationTickStatus.FAILURE]: Colors.accentRedHover(),\n  [InstigationTickStatus.STARTED]: Colors.accentLavenderHover(),\n  [InstigationTickStatus.SKIPPED]: Colors.accentGrayHover(),\n};\n\nconst REFRESH_INTERVAL = 100;\n\nconst MIN_WIDTH = 8; // At least 8px wide\n\nconst MINUTE = 60000;\n\nconst timestampFormat = memoize((timezone: string) => {\n  return new Intl.DateTimeFormat(navigator.language, {\n    hour: '2-digit',\n    minute: '2-digit',\n    second: '2-digit',\n    hourCycle: 'h23',\n    timeZone: timezone === 'Automatic' ? browserTimezone() : timezone,\n    timeZoneName: 'short',\n  });\n});\nexport const LiveTickTimeline = <T extends HistoryTickFragment | AssetDaemonTickFragment>({\n  ticks,\n  onHoverTick,\n  onSelectTick,\n  exactRange,\n  timeRange = MINUTE * 5, // 5 minutes,\n  tickGrid = MINUTE, // 1 minute\n  timeAfter = MINUTE, // 1 minute\n}: {\n  ticks: T[];\n  onHoverTick: (InstigationTick?: T) => void;\n  onSelectTick: (InstigationTick: T) => void;\n  exactRange?: [number, number];\n  timeRange?: number;\n  tickGrid?: number;\n  timeAfter?: number;\n}) => {\n  const [now, setNow] = useState<number>(Date.now());\n  const [isPaused, setPaused] = useState<boolean>(false);\n\n  useEffect(() => {\n    if (!isPaused && !exactRange) {\n      const interval = setInterval(() => {\n        setNow(Date.now());\n      }, REFRESH_INTERVAL);\n      return () => clearInterval(interval);\n    }\n    return () => {};\n  }, [exactRange, isPaused]);\n\n  const maxX = exactRange?.[1] ? exactRange[1] * 1000 : now + timeAfter;\n  const minX = exactRange?.[0] ? exactRange[0] * 1000 : now - timeRange;\n\n  const fullRange = maxX - minX;\n\n  const {viewport, containerProps} = useViewport();\n\n  const ticksReversed = useMemo(() => {\n    // Reverse ticks to make tab order correct\n    return ticks.filter((tick) => !tick.endTimestamp || tick.endTimestamp * 1000 > minX).reverse();\n  }, [ticks, minX]);\n\n  const ticksToDisplay = useMemo(() => {\n    return ticksReversed.map((tick, i) => {\n      const startX = getX(1000 * tick.timestamp!, viewport.width, minX, fullRange);\n      const endTimestamp = isStuckStartedTick(tick, ticksReversed.length - i - 1)\n        ? tick.timestamp\n        : tick.endTimestamp\n        ? tick.endTimestamp * 1000\n        : now;\n      const endX = getX(endTimestamp, viewport.width, minX, fullRange);\n      return {\n        ...tick,\n        width: Math.max(endX - startX, MIN_WIDTH),\n        startX,\n      };\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [minX, now, ticksReversed, fullRange, viewport.width]);\n\n  const timeTickGridDelta = Math.max((maxX - minX) / 25, tickGrid);\n  const tickGridDelta = timeTickGridDelta / 5;\n  const startTickGridX = Math.ceil(minX / tickGridDelta) * tickGridDelta;\n  const gridTicks = useMemo(() => {\n    const ticks = [];\n    for (let i = startTickGridX; i <= maxX; i += tickGridDelta) {\n      ticks.push({\n        time: i,\n        x: getX(i, viewport.width, minX, fullRange),\n        showLabel: i % timeTickGridDelta === 0,\n      });\n    }\n    return ticks;\n  }, [maxX, startTickGridX, tickGridDelta, viewport.width, minX, fullRange, timeTickGridDelta]);\n\n  const {\n    timezone: [timezone],\n  } = useContext(TimeContext);\n\n  return (\n    <div style={{marginRight: '8px'}}>\n      <div {...containerProps}>\n        <TicksWrapper>\n          {gridTicks.map((tick) => (\n            <GridTick\n              key={tick.time}\n              style={{\n                transform: `translateX(${tick.x}px)`,\n              }}\n            >\n              <GridTickLine />\n              {tick.showLabel ? (\n                <GridTickTime>\n                  <Caption>{timestampFormat(timezone).format(new Date(tick.time))}</Caption>\n                </GridTickTime>\n              ) : null}\n            </GridTick>\n          ))}\n          {ticksToDisplay.map((tick) => {\n            const isAssetDaemonTick = 'requestedAssetMaterializationCount' in tick;\n            const count =\n              (isAssetDaemonTick ? tick.requestedAssetMaterializationCount : tick.runIds?.length) ??\n              0;\n            return (\n              <Tick\n                key={tick.id}\n                style={{\n                  transform: `translateX(${tick.startX}px)`,\n                  width: `${tick.width}px`,\n                }}\n                status={tick.status}\n                onMouseEnter={() => {\n                  onHoverTick(tick);\n                  setPaused(true);\n                }}\n                onMouseLeave={() => {\n                  onHoverTick();\n                  setPaused(false);\n                }}\n                onClick={() => {\n                  onSelectTick(tick);\n                }}\n              >\n                <Tooltip content={<TickTooltip tick={tick} />}>\n                  <div style={{width: tick.width + 'px', height: '80px'}}>\n                    {count > 0 ? count : null}\n                  </div>\n                </Tooltip>\n              </Tick>\n            );\n          })}\n          <NowIndicator\n            style={{\n              transform: `translateX(${getX(now, viewport.width, minX, fullRange)}px)`,\n            }}\n          />\n        </TicksWrapper>\n        <TimeAxisWrapper></TimeAxisWrapper>\n      </div>\n    </div>\n  );\n};\n\nconst TickTooltip = memo(({tick}: {tick: HistoryTickFragment | AssetDaemonTickFragment}) => {\n  const status = useMemo(() => {\n    if (tick.status === InstigationTickStatus.FAILURE) {\n      return 'Evaluation failed';\n    }\n    if (tick.status === InstigationTickStatus.STARTED) {\n      return 'Evaluating…';\n    }\n    const isAssetDaemonTick = 'requestedAssetMaterializationCount' in tick;\n    if (isAssetDaemonTick) {\n      return `${tick.requestedAssetMaterializationCount} materialization${ifPlural(\n        tick.requestedAssetMaterializationCount,\n        '',\n        's',\n      )} requested`;\n    } else {\n      return `${tick.runs?.length || 0} run${ifPlural(tick.runs?.length, '', 's')} requested`;\n    }\n  }, [tick]);\n  const startTime = dayjs(1000 * tick.timestamp!);\n  const endTime = dayjs(tick.endTimestamp ? 1000 * tick.endTimestamp : Date.now());\n  const elapsedTime = startTime.to(endTime, true);\n  return (\n    <div>\n      <Caption as=\"div\">\n        {status} ({elapsedTime})\n      </Caption>\n      {tick.status === InstigationTickStatus.STARTED ? null : (\n        <Caption color={Colors.textLight()}>Click for details</Caption>\n      )}\n    </div>\n  );\n});\n\nconst TicksWrapper = styled.div`\n  position: relative;\n  height: 100px;\n  padding: 10px 2px;\n  border-bottom: 1px solid ${Colors.keylineDefault()};\n`;\n\nconst TimeAxisWrapper = styled.div`\n  height: 24px;\n`;\n\nconst Tick = styled.div<{status: InstigationTickStatus}>`\n  cursor: pointer;\n  position: absolute;\n  top: 10px;\n  height: 80px;\n  will-change: transform, width;\n  border-radius: 2px;\n  div {\n    place-content: center;\n    display: grid;\n  }\n  color: ${Colors.backgroundDefault()};\n  ${({status}) => `\n    background: ${COLOR_MAP[status]};\n    &:hover {\n      background: ${HoverColorMap[status]};\n    }\n  `}\n`;\n\nconst GridTick = styled.div`\n  position: absolute;\n  top: 0;\n  height: 124px;\n  will-change: transform;\n`;\nconst GridTickLine = styled.div`\n  position: absolute;\n  top: 0;\n  height: 108px;\n  width: 1px;\n  background: ${Colors.keylineDefault()};\n`;\nconst GridTickTime = styled.div`\n  height: 16px;\n  position: absolute;\n  bottom: 0;\n  width: 100px;\n  margin-left: -24px;\n`;\n\nconst NowIndicator = styled.div`\n  position: absolute;\n  top: 0;\n  height: 126px;\n  width: 2px;\n  background: ${Colors.accentPrimary()};\n  &:after {\n    content: 'Now';\n    position: absolute;\n    left: 0;\n    background: ${Colors.accentPrimary()};\n    color: ${Colors.accentReversed()};\n    bottom: 0;\n    font-size: 12px;\n    padding: 3px 4px;\n  }\n`;\n\nfunction getX(timestamp: number, viewportWidth: number, minX: number, timeRange: number) {\n  return (viewportWidth * (timestamp - minX)) / timeRange;\n}\n","import 'chartjs-adapter-date-fns';\n\nimport {gql, useQuery} from '@apollo/client';\nimport {\n  Box,\n  Button,\n  ButtonLink,\n  Caption,\n  Colors,\n  CursorHistoryControls,\n  FontFamily,\n  Icon,\n  IconWrapper,\n  Menu,\n  MenuItem,\n  NonIdealState,\n  Select,\n  Spinner,\n  Subheading,\n  Table,\n  ifPlural,\n} from '@dagster-io/ui-components';\nimport {Chart} from 'chart.js';\nimport zoomPlugin from 'chartjs-plugin-zoom';\nimport * as React from 'react';\nimport styled from 'styled-components';\n\nimport {TICK_TAG_FRAGMENT} from './InstigationTick';\nimport {HISTORY_TICK_FRAGMENT, RUN_STATUS_FRAGMENT, RunStatusLink} from './InstigationUtils';\nimport {LiveTickTimeline} from './LiveTickTimeline2';\nimport {TickDetailsDialog} from './TickDetailsDialog';\nimport {HistoryTickFragment} from './types/InstigationUtils.types';\nimport {TickHistoryQuery, TickHistoryQueryVariables} from './types/TickHistory.types';\nimport {countPartitionsAddedOrDeleted, isStuckStartedTick, truncate} from './util';\nimport {showSharedToaster} from '../app/DomUtils';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {useCopyToClipboard} from '../app/browser';\nimport {\n  DynamicPartitionsRequestType,\n  InstigationSelector,\n  InstigationTickStatus,\n  InstigationType,\n} from '../graphql/types';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {useBlockTraceOnQueryResult} from '../performance/TraceContext';\nimport {TimeElapsed} from '../runs/TimeElapsed';\nimport {useCursorPaginatedQuery} from '../runs/useCursorPaginatedQuery';\nimport {TimestampDisplay} from '../schedules/TimestampDisplay';\nimport {TickLogDialog} from '../ticks/TickLogDialog';\nimport {TickStatusTag} from '../ticks/TickStatusTag';\nimport {repoAddressToSelector} from '../workspace/repoAddressToSelector';\nimport {RepoAddress} from '../workspace/types';\n\nChart.register(zoomPlugin);\n\ntype InstigationTick = HistoryTickFragment;\n\nconst PAGE_SIZE = 25;\n\nenum TickStatusDisplay {\n  ALL = 'all',\n  FAILED = 'failed',\n  SUCCESS = 'success',\n}\n\nconst STATUS_DISPLAY_MAP = {\n  [TickStatusDisplay.ALL]: [\n    InstigationTickStatus.SUCCESS,\n    InstigationTickStatus.FAILURE,\n    InstigationTickStatus.STARTED,\n    InstigationTickStatus.SKIPPED,\n  ],\n  [TickStatusDisplay.FAILED]: [InstigationTickStatus.FAILURE],\n  [TickStatusDisplay.SUCCESS]: [InstigationTickStatus.SUCCESS],\n};\n\nexport const TicksTable = ({\n  name,\n  repoAddress,\n  tabs,\n  setTimerange,\n  setParentStatuses,\n}: {\n  name: string;\n  repoAddress: RepoAddress;\n  tabs?: React.ReactElement;\n  setTimerange?: (range?: [number, number]) => void;\n  setParentStatuses?: (statuses?: InstigationTickStatus[]) => void;\n}) => {\n  const [tickStatus, setTickStatus] = useQueryPersistedState<TickStatusDisplay>({\n    queryKey: 'status',\n    defaults: {status: TickStatusDisplay.ALL},\n  });\n\n  const instigationSelector = {...repoAddressToSelector(repoAddress), name};\n  const statuses = React.useMemo(\n    () => STATUS_DISPLAY_MAP[tickStatus] || STATUS_DISPLAY_MAP[TickStatusDisplay.ALL],\n    [tickStatus],\n  );\n\n  const {queryResult, paginationProps} = useCursorPaginatedQuery<\n    TickHistoryQuery,\n    TickHistoryQueryVariables\n  >({\n    nextCursorForResult: (data) => {\n      if (data.instigationStateOrError.__typename !== 'InstigationState') {\n        return undefined;\n      }\n      return data.instigationStateOrError.ticks[PAGE_SIZE - 1]?.id;\n    },\n    getResultArray: (data) => {\n      if (!data || data.instigationStateOrError.__typename !== 'InstigationState') {\n        return [];\n      }\n      return data.instigationStateOrError.ticks;\n    },\n    variables: {\n      instigationSelector,\n      statuses,\n    },\n    query: JOB_TICK_HISTORY_QUERY,\n    pageSize: PAGE_SIZE,\n  });\n  useBlockTraceOnQueryResult(queryResult, 'TickHistoryQuery');\n\n  useQueryRefreshAtInterval(queryResult, FIFTEEN_SECONDS);\n\n  const state = queryResult?.data?.instigationStateOrError;\n  const ticks = React.useMemo(\n    () => (state?.__typename === 'InstigationState' ? state.ticks : []),\n    [state],\n  );\n\n  React.useEffect(() => {\n    if (paginationProps.hasPrevCursor) {\n      if (ticks && ticks.length) {\n        const start = ticks[ticks.length - 1]?.timestamp;\n        const end = ticks[0]?.endTimestamp;\n        if (start && end) {\n          setTimerange?.([start, end]);\n        }\n      }\n    } else {\n      setTimerange?.(undefined);\n    }\n  }, [paginationProps.hasPrevCursor, ticks, setTimerange]);\n\n  React.useEffect(() => {\n    if (paginationProps.hasPrevCursor) {\n      setParentStatuses?.(Array.from(statuses));\n    } else {\n      setParentStatuses?.(undefined);\n    }\n  }, [paginationProps.hasPrevCursor, setParentStatuses, statuses]);\n\n  React.useEffect(() => {\n    if (paginationProps.hasPrevCursor && !ticks.length && !queryResult.loading) {\n      paginationProps.reset();\n    }\n    // paginationProps.reset isn't memoized\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticks, queryResult.loading, paginationProps.hasPrevCursor]);\n\n  const [logTick, setLogTick] = React.useState<InstigationTick>();\n  const {data} = queryResult;\n\n  if (!data) {\n    return (\n      <Box padding={{vertical: 48}}>\n        <Spinner purpose=\"page\" />\n      </Box>\n    );\n  }\n\n  if (data.instigationStateOrError.__typename === 'PythonError') {\n    return <PythonErrorInfo error={data.instigationStateOrError} />;\n  }\n\n  if (data.instigationStateOrError.__typename === 'InstigationStateNotFoundError') {\n    return (\n      <Box padding={{vertical: 32}} flex={{justifyContent: 'center'}}>\n        <NonIdealState icon=\"no-results\" title=\"No ticks to display\" />\n      </Box>\n    );\n  }\n\n  const {instigationType} = data.instigationStateOrError;\n\n  if (!ticks.length && tickStatus === TickStatusDisplay.ALL) {\n    return null;\n  }\n\n  return (\n    <>\n      {logTick ? (\n        <TickLogDialog\n          tick={logTick}\n          instigationSelector={instigationSelector}\n          onClose={() => setLogTick(undefined)}\n        />\n      ) : null}\n      <Box padding={{vertical: 8, horizontal: 24}}>\n        <Box flex={{direction: 'row', justifyContent: 'space-between', alignItems: 'center'}}>\n          {tabs}\n          <Box flex={{direction: 'row', gap: 16}}>\n            <StatusFilter status={tickStatus} onChange={setTickStatus} />\n          </Box>\n        </Box>\n      </Box>\n      {ticks.length ? (\n        <TableWrapper>\n          <thead>\n            <tr>\n              <th style={{width: 120}}>Timestamp</th>\n              <th style={{width: 90}}>Status</th>\n              <th style={{width: 90}}>Duration</th>\n              {instigationType === InstigationType.SENSOR ? (\n                <th style={{width: 120}}>Cursor</th>\n              ) : null}\n              <th style={{width: 180}}>Result</th>\n            </tr>\n          </thead>\n          <tbody>\n            {ticks.map((tick, index) => (\n              <TickRow\n                key={tick.id}\n                tick={tick}\n                instigationSelector={instigationSelector}\n                index={index}\n              />\n            ))}\n          </tbody>\n        </TableWrapper>\n      ) : (\n        <Box padding={{vertical: 32}} flex={{justifyContent: 'center'}}>\n          <NonIdealState icon=\"no-results\" title=\"No ticks to display\" />\n        </Box>\n      )}\n      {ticks.length > 0 ? (\n        <div style={{marginTop: '16px'}}>\n          <CursorHistoryControls {...paginationProps} />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nconst StatusFilter = ({\n  status,\n  onChange,\n}: {\n  status: TickStatusDisplay;\n  onChange: (value: TickStatusDisplay) => void;\n}) => {\n  const items = [\n    {key: TickStatusDisplay.ALL, label: 'All ticks'},\n    {key: TickStatusDisplay.SUCCESS, label: 'Requested'},\n    {key: TickStatusDisplay.FAILED, label: 'Failed'},\n  ];\n  const activeItem = items.find(({key}) => key === status);\n  return (\n    <Select<(typeof items)[0]>\n      popoverProps={{position: 'bottom-right'}}\n      filterable={false}\n      activeItem={activeItem}\n      items={items}\n      itemRenderer={(item, props) => {\n        return (\n          <MenuItem\n            active={props.modifiers.active}\n            onClick={props.handleClick}\n            key={item.key}\n            text={item.label}\n            style={{width: '300px'}}\n          />\n        );\n      }}\n      itemListRenderer={({renderItem, filteredItems}) => {\n        const renderedItems = filteredItems.map(renderItem).filter(Boolean);\n        return <Menu>{renderedItems}</Menu>;\n      }}\n      onItemSelect={(item) => onChange(item.key)}\n    >\n      <Button\n        rightIcon={<Icon name=\"arrow_drop_down\" />}\n        style={{minWidth: '200px', display: 'flex', justifyContent: 'space-between'}}\n      >\n        {activeItem?.label}\n      </Button>\n    </Select>\n  );\n};\n\nexport const TickHistoryTimeline = ({\n  name,\n  repoAddress,\n  onHighlightRunIds,\n  beforeTimestamp,\n  afterTimestamp,\n  statuses,\n}: {\n  name: string;\n  repoAddress: RepoAddress;\n  onHighlightRunIds?: (runIds: string[]) => void;\n  beforeTimestamp?: number;\n  afterTimestamp?: number;\n  statuses?: InstigationTickStatus[];\n}) => {\n  const [selectedTickId, setSelectedTickId] = useQueryPersistedState<string | undefined>({\n    encode: (tickId) => ({tickId}),\n    decode: (qs) => qs['tickId'] ?? undefined,\n  });\n\n  const [pollingPaused, pausePolling] = React.useState<boolean>(false);\n\n  const instigationSelector = {...repoAddressToSelector(repoAddress), name};\n  const queryResult = useQuery<TickHistoryQuery, TickHistoryQueryVariables>(\n    JOB_TICK_HISTORY_QUERY,\n    {\n      variables: {\n        instigationSelector,\n        beforeTimestamp,\n        afterTimestamp,\n        statuses,\n        limit: beforeTimestamp ? undefined : 15,\n      },\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n\n  useBlockTraceOnQueryResult(queryResult, 'TickHistoryQuery');\n\n  useQueryRefreshAtInterval(\n    queryResult,\n    1000,\n    !(pollingPaused || (beforeTimestamp && afterTimestamp)),\n  );\n  const {data, error} = queryResult;\n\n  if (!data || error) {\n    return (\n      <>\n        <Box padding={{top: 16, horizontal: 24}} border=\"bottom\">\n          <Subheading>Recent ticks</Subheading>\n        </Box>\n        <Box padding={{vertical: 64}}>\n          <Spinner purpose=\"section\" />\n        </Box>\n      </>\n    );\n  }\n\n  if (data.instigationStateOrError.__typename === 'PythonError') {\n    return <PythonErrorInfo error={data.instigationStateOrError} />;\n  }\n  if (data.instigationStateOrError.__typename === 'InstigationStateNotFoundError') {\n    return null;\n  }\n\n  // Set it equal to an empty array in case of a weird error\n  // https://elementl-workspace.slack.com/archives/C03CCE471E0/p1693237968395179?thread_ts=1693233109.602669&cid=C03CCE471E0\n  const {ticks = []} = data.instigationStateOrError;\n\n  const onTickClick = (tick?: InstigationTick) => {\n    setSelectedTickId(tick ? tick.tickId : undefined);\n  };\n\n  const onTickHover = (tick?: InstigationTick) => {\n    if (!tick) {\n      pausePolling(false);\n    }\n    if (tick?.runIds) {\n      onHighlightRunIds && onHighlightRunIds(tick.runIds);\n      pausePolling(true);\n    }\n  };\n\n  return (\n    <>\n      <TickDetailsDialog\n        isOpen={!!selectedTickId}\n        tickId={selectedTickId}\n        instigationSelector={instigationSelector}\n        onClose={() => onTickClick(undefined)}\n      />\n      <Box padding={{vertical: 16, horizontal: 24}}>\n        <Subheading>Recent ticks</Subheading>\n      </Box>\n      <Box border=\"top\">\n        <LiveTickTimeline\n          ticks={ticks}\n          onHoverTick={onTickHover}\n          onSelectTick={onTickClick}\n          exactRange={\n            beforeTimestamp && afterTimestamp ? [afterTimestamp, beforeTimestamp] : undefined\n          }\n        />\n      </Box>\n    </>\n  );\n};\n\nfunction TickRow({\n  tick,\n  instigationSelector,\n  index,\n}: {\n  tick: HistoryTickFragment;\n  instigationSelector: InstigationSelector;\n  index: number;\n}) {\n  const copyToClipboard = useCopyToClipboard();\n  const [showResults, setShowResults] = React.useState(false);\n\n  const [addedPartitions, deletedPartitions] = React.useMemo(() => {\n    const requests = tick.dynamicPartitionsRequestResults;\n    const added = countPartitionsAddedOrDeleted(\n      requests,\n      DynamicPartitionsRequestType.ADD_PARTITIONS,\n    );\n    const deleted = countPartitionsAddedOrDeleted(\n      requests,\n      DynamicPartitionsRequestType.DELETE_PARTITIONS,\n    );\n    return [added, deleted];\n  }, [tick?.dynamicPartitionsRequestResults]);\n\n  const isStuckStarted = isStuckStartedTick(tick, index);\n\n  return (\n    <tr>\n      <td>\n        <TimestampDisplay\n          timestamp={tick.timestamp}\n          timeFormat={{showTimezone: false, showSeconds: true}}\n        />\n      </td>\n      <td>\n        <TickStatusTag tick={tick} isStuckStarted={isStuckStarted} />\n      </td>\n      <td>\n        {isStuckStarted ? (\n          '- '\n        ) : (\n          <TimeElapsed\n            startUnix={tick.timestamp}\n            endUnix={tick.endTimestamp || Date.now() / 1000}\n          />\n        )}\n      </td>\n      {tick.instigationType === InstigationType.SENSOR ? (\n        <td style={{width: 120}}>\n          {tick.cursor ? (\n            <Box flex={{direction: 'row', alignItems: 'center', gap: 8}}>\n              <div style={{fontFamily: FontFamily.monospace, fontSize: '14px'}}>\n                {truncate(tick.cursor || '')}\n              </div>\n              <CopyButton\n                onClick={async () => {\n                  copyToClipboard(tick.cursor || '');\n                  await showSharedToaster({\n                    message: <div>Copied value</div>,\n                    intent: 'success',\n                  });\n                }}\n              >\n                <Icon name=\"assignment\" />\n              </CopyButton>\n            </Box>\n          ) : (\n            <>&mdash;</>\n          )}\n        </td>\n      ) : null}\n      <td>\n        <Box flex={{direction: 'column', gap: 6}}>\n          <Box flex={{alignItems: 'center', gap: 8}}>\n            <ButtonLink\n              onClick={() => {\n                setShowResults(true);\n              }}\n            >\n              {tick.runIds.length === 1\n                ? '1 run requested'\n                : `${tick.runIds.length} runs requested`}\n            </ButtonLink>\n            {tick.runs.length === 1\n              ? tick.runs.map((run) => (\n                  <React.Fragment key={run.id}>\n                    <RunStatusLink run={run} />\n                  </React.Fragment>\n                ))\n              : null}\n          </Box>\n          {addedPartitions || deletedPartitions ? (\n            <Caption>\n              (\n              {addedPartitions ? (\n                <span>\n                  {addedPartitions} partition{ifPlural(addedPartitions, '', 's')} created\n                  {deletedPartitions ? ',' : ''}\n                </span>\n              ) : null}\n              {deletedPartitions ? (\n                <span>\n                  {deletedPartitions} partition{ifPlural(deletedPartitions, '', 's')} deleted,\n                </span>\n              ) : null}\n              )\n            </Caption>\n          ) : null}\n          <TickDetailsDialog\n            isOpen={showResults}\n            tickId={tick.tickId}\n            instigationSelector={instigationSelector}\n            onClose={() => {\n              setShowResults(false);\n            }}\n          />\n        </Box>\n      </td>\n    </tr>\n  );\n}\n\nconst JOB_TICK_HISTORY_QUERY = gql`\n  query TickHistoryQuery(\n    $instigationSelector: InstigationSelector!\n    $dayRange: Int\n    $limit: Int\n    $cursor: String\n    $statuses: [InstigationTickStatus!]\n    $beforeTimestamp: Float\n    $afterTimestamp: Float\n  ) {\n    instigationStateOrError(instigationSelector: $instigationSelector) {\n      ... on InstigationState {\n        id\n        instigationType\n        ticks(\n          dayRange: $dayRange\n          limit: $limit\n          cursor: $cursor\n          statuses: $statuses\n          beforeTimestamp: $beforeTimestamp\n          afterTimestamp: $afterTimestamp\n        ) {\n          id\n          ...HistoryTick\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${RUN_STATUS_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n  ${TICK_TAG_FRAGMENT}\n  ${HISTORY_TICK_FRAGMENT}\n`;\n\nconst CopyButton = styled.button`\n  background: transparent;\n  border: 0;\n  cursor: pointer;\n  padding: 8px;\n  margin: -6px;\n  outline: none;\n\n  ${IconWrapper} {\n    background-color: ${Colors.accentGray()};\n    transition: background-color 100ms;\n  }\n\n  :hover ${IconWrapper} {\n    background-color: ${Colors.accentGrayHover()};\n  }\n\n  :focus ${IconWrapper} {\n    background-color: ${Colors.linkDefault()};\n  }\n`;\n\nconst TableWrapper = styled(Table)`\n  th,\n  td {\n    vertical-align: middle !important;\n  }\n`;\n","import {InstigationStatus} from '../graphql/types';\nimport {BasicInstigationStateFragment} from '../overview/types/BasicInstigationStateFragment.types';\n\nexport const filterPermissionedInstigationState = (\n  instigationState: BasicInstigationStateFragment,\n) => {\n  return (\n    (instigationState.hasStartPermission &&\n      instigationState.status === InstigationStatus.STOPPED) ||\n    (instigationState.hasStopPermission && instigationState.status === InstigationStatus.RUNNING)\n  );\n};\n","import {InstigationStatus} from '../graphql/types';\nimport {BasicInstigationStateFragment} from '../overview/types/BasicInstigationStateFragment.types';\n\nexport const instigationStateSummary = (instigationStates: BasicInstigationStateFragment[]) => {\n  let anyOff = false;\n  let anyOn = false;\n\n  for (const state of instigationStates) {\n    const {status} = state;\n    if (status === InstigationStatus.RUNNING) {\n      anyOn = true;\n    } else if (status === InstigationStatus.STOPPED) {\n      anyOff = true;\n    }\n    if (anyOn && anyOff) {\n      break;\n    }\n  }\n\n  return {anyOff, anyOn};\n};\n","import {useReducer} from 'react';\n\nexport type OpenWithIntent = 'not-open' | 'start' | 'stop';\n\ntype CompletionState = {completed: number; errors: {[id: string]: string}};\n\ntype DialogState = {\n  step: 'initial' | 'updating' | 'completed';\n  completion: CompletionState;\n};\n\ntype DialogAction =\n  | {type: 'reset'}\n  | {type: 'start'}\n  | {type: 'update-success'}\n  | {type: 'update-error'; name: string; error: string}\n  | {type: 'complete'};\n\nconst initialState: DialogState = {\n  step: 'initial',\n  completion: {completed: 0, errors: {}},\n};\n\nconst reducer = (prevState: DialogState, action: DialogAction): DialogState => {\n  switch (action.type) {\n    case 'reset':\n      return initialState;\n    case 'start':\n      return {...prevState, step: 'updating'};\n    case 'update-success': {\n      const {completion} = prevState;\n      return {\n        step: 'updating',\n        completion: {...completion, completed: completion.completed + 1},\n      };\n    }\n    case 'update-error': {\n      const {completion} = prevState;\n      return {\n        step: 'updating',\n        completion: {\n          ...completion,\n          completed: completion.completed + 1,\n          errors: {...completion.errors, [action.name]: action.error},\n        },\n      };\n    }\n    case 'complete':\n      return {...prevState, step: 'completed'};\n  }\n};\n\nexport const useInstigationStateReducer = () => useReducer(reducer, initialState);\n","import {\n  DynamicPartitionsRequestResult,\n  DynamicPartitionsRequestType,\n  InstigationTick,\n  InstigationTickStatus,\n} from '../graphql/types';\n\nconst TRUNCATION_THRESHOLD = 100;\nconst TRUNCATION_BUFFER = 5;\n\nconst THREE_DAYS = 60 * 60 * 24 * 3;\n\nexport const truncate = (str: string) =>\n  str.length > TRUNCATION_THRESHOLD\n    ? `${str.slice(0, TRUNCATION_THRESHOLD - TRUNCATION_BUFFER)}…`\n    : str;\n\nexport function isStuckStartedTick(\n  tick: Pick<InstigationTick, 'timestamp' | 'endTimestamp' | 'status'>,\n  index: number,\n) {\n  return (\n    !tick.endTimestamp &&\n    // If the index is 0 and the tick does have an end timestamp then we can't know if its actually stuck or still in progress\n    // but if its older than three days then its very likely stuck\n    ((index !== 0 && tick.status === InstigationTickStatus.STARTED) ||\n      tick.timestamp * 1000 < Date.now() - THREE_DAYS)\n  );\n}\n\nexport function countPartitionsAddedOrDeleted(\n  requests: Pick<DynamicPartitionsRequestResult, 'partitionKeys' | 'type'>[],\n  type: DynamicPartitionsRequestType,\n) {\n  return requests.reduce((sum, request) => {\n    if (request.type === type) {\n      return sum + (request.partitionKeys?.length || 0);\n    }\n    return sum;\n  }, 0);\n}\n","import {gql} from '@apollo/client';\n\nimport {RUN_TABLE_RUN_FRAGMENT} from './RunTableRunFragment';\nimport {RunsRootQuery, RunsRootQueryVariables} from './types/usePaginatedRunsTableRuns.types';\nimport {useCursorPaginatedQuery} from './useCursorPaginatedQuery';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PAGE_SIZE} from '../assets/AutoMaterializePolicyPage/useEvaluationsQueryResult';\nimport {RunsFilter} from '../graphql/types';\n\nexport function usePaginatedRunsTableRuns(filter: RunsFilter) {\n  const {queryResult, paginationProps} = useCursorPaginatedQuery<\n    RunsRootQuery,\n    RunsRootQueryVariables\n  >({\n    nextCursorForResult: (runs) => {\n      if (runs.pipelineRunsOrError.__typename !== 'Runs') {\n        return undefined;\n      }\n      return runs.pipelineRunsOrError.results[PAGE_SIZE - 1]?.id;\n    },\n    getResultArray: (data) => {\n      if (!data || data.pipelineRunsOrError.__typename !== 'Runs') {\n        return [];\n      }\n      return data.pipelineRunsOrError.results;\n    },\n    variables: {\n      filter,\n    },\n    query: RUNS_ROOT_QUERY,\n    pageSize: PAGE_SIZE,\n  });\n  return {queryResult, paginationProps};\n}\n\nexport const RUNS_ROOT_QUERY = gql`\n  query RunsRootQuery($limit: Int, $cursor: String, $filter: RunsFilter!) {\n    pipelineRunsOrError(limit: $limit, cursor: $cursor, filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunTableRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${RUN_TABLE_RUN_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {Tag, Tooltip} from '@dagster-io/ui-components';\nimport styled from 'styled-components';\n\nimport {humanCronString} from './humanCronString';\n\ninterface Props {\n  cronSchedule: string;\n  executionTimezone: string | null;\n}\n\nexport const CronTag = (props: Props) => {\n  const {cronSchedule, executionTimezone} = props;\n  const humanString = humanCronString(cronSchedule, executionTimezone || 'UTC');\n\n  return (\n    <Container>\n      <Tooltip content={cronSchedule} placement=\"top\">\n        <Tag icon=\"schedule\">{humanString}</Tag>\n      </Tooltip>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  .bp4-popover2-target {\n    max-width: 100%;\n\n    :focus {\n      outline: none;\n    }\n  }\n`;\n","import {gql} from '@apollo/client';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {AUTOMATION_ASSET_SELECTION_FRAGMENT} from '../automation/AutomationAssetSelectionFragment';\n\nexport const SCHEDULE_ASSET_SELECTIONS_QUERY = gql`\n  query ScheduleAssetSelectionQuery($scheduleSelector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $scheduleSelector) {\n      ... on Schedule {\n        id\n        assetSelection {\n          ...AutomationAssetSelectionFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${AUTOMATION_ASSET_SELECTION_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {Box, Popover, Tag} from '@dagster-io/ui-components';\n\nimport {InstigationStatus} from '../graphql/types';\n\nexport const errorDisplay = (status: InstigationStatus, runningScheduleCount: number) => {\n  if (status === InstigationStatus.STOPPED && runningScheduleCount === 0) {\n    return null;\n  } else if (status === InstigationStatus.RUNNING && runningScheduleCount === 1) {\n    return null;\n  }\n\n  const errors = [];\n  if (status === InstigationStatus.RUNNING && runningScheduleCount === 0) {\n    errors.push(\n      'Schedule is set to be running, but either the scheduler is not configured or the scheduler is not running the schedule',\n    );\n  } else if (status === InstigationStatus.STOPPED && runningScheduleCount > 0) {\n    errors.push('Schedule is set to be stopped, but the scheduler is still running the schedule');\n  }\n\n  if (runningScheduleCount > 0) {\n    errors.push('Duplicate cron job for schedule found.');\n  }\n\n  return (\n    <Popover\n      interactionKind=\"hover\"\n      popoverClassName=\"bp4-popover-content-sizing\"\n      position=\"right\"\n      content={\n        <Box flex={{direction: 'column', gap: 8}} padding={12}>\n          <strong>There are errors with this schedule.</strong>\n          <div>Errors:</div>\n          <ul>\n            {errors.map((error, index) => (\n              <li key={index}>{error}</li>\n            ))}\n          </ul>\n        </Box>\n      }\n    >\n      <Tag fill interactive intent=\"danger\">\n        Error\n      </Tag>\n    </Popover>\n  );\n};\n","import {Box} from '@dagster-io/ui-components';\n\nimport {AssetLink} from '../assets/AssetLink';\nimport {SensorMetadata} from '../graphql/types';\n\nexport const SensorMonitoredAssets = ({metadata}: {metadata: SensorMetadata | undefined}) => {\n  if (!metadata?.assetKeys?.length) {\n    return <span />;\n  }\n  return (\n    <Box flex={{direction: 'column', gap: 2}}>\n      {metadata.assetKeys.map((key) => (\n        <AssetLink key={key.path.join('/')} path={key.path} icon=\"asset\" />\n      ))}\n    </Box>\n  );\n};\n","import {useMutation} from '@apollo/client';\nimport {Button, Tooltip} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {RESET_SENSOR_MUTATION, displaySensorMutationErrors} from './SensorMutations';\nimport {SensorFragment} from './types/SensorFragment.types';\nimport {ResetSensorMutation, ResetSensorMutationVariables} from './types/SensorMutations.types';\nimport {DEFAULT_DISABLED_REASON, usePermissionsForLocation} from '../app/Permissions';\nimport {repoAddressToSelector} from '../workspace/repoAddressToSelector';\nimport {RepoAddress} from '../workspace/types';\n\ninterface Props {\n  repoAddress: RepoAddress;\n  sensor: SensorFragment;\n}\n\nexport const SensorResetButton = ({repoAddress, sensor}: Props) => {\n  const {\n    permissions: {canStartSensor, canStopSensor},\n  } = usePermissionsForLocation(repoAddress.location);\n\n  const {name} = sensor;\n  const sensorSelector = {\n    ...repoAddressToSelector(repoAddress),\n    sensorName: name,\n  };\n\n  const [resetSensor, {loading: toggleOnInFlight}] = useMutation<\n    ResetSensorMutation,\n    ResetSensorMutationVariables\n  >(RESET_SENSOR_MUTATION, {\n    onCompleted: displaySensorMutationErrors,\n  });\n  const onClick = () => {\n    resetSensor({variables: {sensorSelector}});\n  };\n\n  const hasPermission = canStartSensor && canStopSensor;\n  const disabled = toggleOnInFlight || !hasPermission;\n  const tooltipContent = hasPermission\n    ? `In code, a default status for \"${name}\" has been set to \"${sensor.defaultStatus}\". Click here to reset the sensor status to track the status set in code.`\n    : DEFAULT_DISABLED_REASON;\n\n  return (\n    <Tooltip content={tooltipContent} display=\"flex\">\n      <Button disabled={disabled} onClick={onClick}>\n        Reset sensor status\n      </Button>\n    </Tooltip>\n  );\n};\n","import {Box, Colors, Icon, Subheading, Table, Tag} from '@dagster-io/ui-components';\nimport {useMemo} from 'react';\n\nimport {DynamicPartitionRequestFragment} from './types/SensorDryRunDialog.types';\nimport {DynamicPartitionsRequestType} from '../graphql/types';\n\nexport function DynamicPartitionRequests({\n  includeTitle = true,\n  requests,\n}: {\n  includeTitle?: boolean;\n  requests: Pick<DynamicPartitionRequestFragment, 'partitionKeys' | 'partitionsDefName' | 'type'>[];\n}) {\n  const rows = useMemo(() => {\n    if (!requests.length) {\n      return [];\n    }\n    const rows: {key: string; def: string; type: DynamicPartitionsRequestType}[] = [];\n    requests.forEach(({partitionKeys, partitionsDefName, type}) => {\n      partitionKeys?.forEach((key) => {\n        rows.push({\n          key,\n          def: partitionsDefName,\n          type,\n        });\n      });\n    });\n    return rows;\n  }, [requests]);\n\n  if (!rows.length) {\n    return null;\n  }\n\n  return (\n    <Box flex={{direction: 'column', gap: 12, grow: 1}}>\n      {includeTitle ? (\n        <Box flex={{direction: 'row', alignItems: 'center', gap: 8}}>\n          <Icon name=\"partition\" />\n          <Subheading>Dynamic Partition Requests</Subheading>\n        </Box>\n      ) : null}\n      <Table style={{borderRight: `1px solid ${Colors.keylineDefault()}`}}>\n        <thead>\n          <tr>\n            <th>Partition</th>\n            <th>Partition definition</th>\n            <th>Requested change</th>\n          </tr>\n        </thead>\n        <tbody>\n          {rows.map(({key, def, type}, index) => {\n            return (\n              <tr key={index}>\n                <td>{key}</td>\n                <td>{def}</td>\n                <td>\n                  {type === DynamicPartitionsRequestType.ADD_PARTITIONS ? (\n                    <Tag intent=\"success\">\n                      <span>Add Partition</span>\n                    </Tag>\n                  ) : (\n                    <Tag intent=\"danger\">\n                      <span>Delete Partition</span>\n                    </Tag>\n                  )}\n                </td>\n              </tr>\n            );\n          })}\n        </tbody>\n      </Table>\n    </Box>\n  );\n}\n","import {gql, useMutation} from '@apollo/client';\nimport {\n  Box,\n  Button,\n  ButtonLink,\n  Colors,\n  Dialog,\n  DialogBody,\n  DialogFooter,\n  Group,\n  Icon,\n  NonIdealState,\n  Spinner,\n  Subheading,\n  Tag,\n  TextInput,\n} from '@dagster-io/ui-components';\nimport {useCallback, useMemo, useState} from 'react';\nimport styled from 'styled-components';\n\nimport {RunRequestTable} from './DryRunRequestTable';\nimport {DynamicPartitionRequests} from './DynamicPartitionRequests';\nimport {RUN_REQUEST_FRAGMENT} from './RunRequestFragment';\nimport {\n  SensorDryRunMutation,\n  SensorDryRunMutationVariables,\n} from './types/SensorDryRunDialog.types';\nimport {showCustomAlert} from '../app/CustomAlertProvider';\nimport {showSharedToaster} from '../app/DomUtils';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {assertUnreachable} from '../app/Util';\nimport {PythonErrorFragment} from '../app/types/PythonErrorFragment.types';\nimport {SET_CURSOR_MUTATION} from '../sensors/EditCursorDialog';\nimport {\n  SetSensorCursorMutation,\n  SetSensorCursorMutationVariables,\n} from '../sensors/types/EditCursorDialog.types';\nimport {testId} from '../testing/testId';\nimport {RepoAddress} from '../workspace/types';\n\ntype DryRunInstigationTick = Extract<\n  SensorDryRunMutation['sensorDryRun'],\n  {__typename: 'DryRunInstigationTick'}\n>;\n\ntype Props = {\n  name: string;\n  onClose: () => void;\n  repoAddress: RepoAddress;\n  currentCursor: string;\n  isOpen: boolean;\n  jobName: string;\n};\n\nexport const SensorDryRunDialog = (props: Props) => {\n  const {isOpen, onClose, name} = props;\n  return (\n    <Dialog\n      isOpen={isOpen}\n      onClose={onClose}\n      style={{width: '70vw', display: 'flex'}}\n      icon=\"sensors\"\n      title={name}\n    >\n      <SensorDryRun {...props} />\n    </Dialog>\n  );\n};\n\nconst SensorDryRun = ({repoAddress, name, currentCursor, onClose, jobName}: Props) => {\n  const [sensorDryRun] = useMutation<SensorDryRunMutation, SensorDryRunMutationVariables>(\n    EVALUATE_SENSOR_MUTATION,\n  );\n\n  const [cursor, setCursor] = useState(currentCursor);\n\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState<PythonErrorFragment | null>(null);\n  const [sensorExecutionData, setSensorExecutionData] = useState<DryRunInstigationTick | null>(\n    null,\n  );\n\n  const sensorSelector = useMemo(\n    () => ({\n      sensorName: name,\n      repositoryLocationName: repoAddress.location,\n      repositoryName: repoAddress.name,\n    }),\n    [repoAddress, name],\n  );\n\n  const submitTest = useCallback(async () => {\n    setSubmitting(true);\n    const result = await sensorDryRun({\n      variables: {\n        selectorData: sensorSelector,\n        cursor,\n      },\n    });\n    const data = result.data?.sensorDryRun;\n    if (data) {\n      if (data?.__typename === 'DryRunInstigationTick') {\n        if (data.evaluationResult?.error) {\n          setError(data.evaluationResult.error);\n        } else {\n          setSensorExecutionData(data);\n        }\n      } else if (data?.__typename === 'SensorNotFoundError') {\n        showCustomAlert({\n          title: 'Sensor not found',\n          body: `Could not find a sensor named: ${name}`,\n        });\n      } else {\n        setError(data);\n      }\n    } else {\n      assertUnreachable('sensorDryRun Mutation returned no data??' as never);\n    }\n    setSubmitting(false);\n  }, [sensorDryRun, sensorSelector, cursor, name]);\n\n  const buttons = useMemo(() => {\n    if (sensorExecutionData || error) {\n      return (\n        <Box flex={{direction: 'row', gap: 8}}>\n          <Button\n            data-testid={testId('test-again')}\n            onClick={() => {\n              setSensorExecutionData(null);\n              setError(null);\n            }}\n          >\n            Test again\n          </Button>\n          <Button intent=\"primary\" onClick={onClose}>\n            Close\n          </Button>\n        </Box>\n      );\n    }\n    if (submitting) {\n      return (\n        <Box flex={{direction: 'row', gap: 8}}>\n          <Button onClick={onClose}>Cancel</Button>\n        </Box>\n      );\n    } else {\n      return (\n        <Box flex={{direction: 'row', gap: 8}}>\n          <Button onClick={onClose}>Cancel</Button>\n          <Button onClick={submitTest} intent=\"primary\" data-testid={testId('evaluate')}>\n            Evaluate\n          </Button>\n        </Box>\n      );\n    }\n  }, [sensorExecutionData, error, submitting, onClose, submitTest]);\n\n  const [cursorState, setCursorState] = useState<'Unpersisted' | 'Persisting' | 'Persisted'>(\n    'Unpersisted',\n  );\n  const [setCursorMutation] = useMutation<\n    SetSensorCursorMutation,\n    SetSensorCursorMutationVariables\n  >(SET_CURSOR_MUTATION);\n\n  const onPersistCursorValue = useCallback(async () => {\n    const cursor = sensorExecutionData?.evaluationResult?.cursor;\n    if (!cursor) {\n      assertUnreachable('Did not expect to get here' as never);\n    }\n    setCursorState('Persisting');\n    const {data} = await setCursorMutation({\n      variables: {sensorSelector, cursor},\n    });\n    if (data?.setSensorCursor.__typename === 'Sensor') {\n      await showSharedToaster({message: 'Cursor value updated', intent: 'success'});\n      setCursorState('Persisted');\n    } else if (data?.setSensorCursor) {\n      const error = data.setSensorCursor;\n      await showSharedToaster({\n        intent: 'danger',\n        message: (\n          <Group direction=\"row\" spacing={8}>\n            <div>Could not set cursor value.</div>\n            <ButtonLink\n              color={Colors.accentReversed()}\n              underline=\"always\"\n              onClick={() => {\n                showCustomAlert({\n                  title: 'Python Error',\n                  body:\n                    error.__typename === 'PythonError' ? (\n                      <PythonErrorInfo error={error} />\n                    ) : (\n                      'Sensor not found'\n                    ),\n                });\n              }}\n            >\n              View error\n            </ButtonLink>\n          </Group>\n        ),\n      });\n    }\n  }, [sensorExecutionData?.evaluationResult?.cursor, sensorSelector, setCursorMutation]);\n\n  const content = useMemo(() => {\n    if (sensorExecutionData || error) {\n      const runRequests = sensorExecutionData?.evaluationResult?.runRequests;\n      const numRunRequests = runRequests?.length || 0;\n      const didSkip = !error && numRunRequests === 0;\n      const dynamicPartitionRequests =\n        sensorExecutionData?.evaluationResult?.dynamicPartitionsRequests;\n      return (\n        <Box flex={{direction: 'column', gap: 8}}>\n          <Box>\n            <Grid>\n              <div>\n                <Subheading>Result</Subheading>\n                <Box flex={{grow: 1, alignItems: 'center'}}>\n                  <div>\n                    {error ? (\n                      <Tag intent=\"danger\">Failed</Tag>\n                    ) : numRunRequests ? (\n                      <Tag intent=\"success\">{numRunRequests} run requests</Tag>\n                    ) : (\n                      <Tag intent=\"warning\">Skipped</Tag>\n                    )}\n                  </div>\n                </Box>\n              </div>\n              <div>\n                <Subheading>Used cursor value</Subheading>\n                <pre>{cursor?.length ? cursor : 'None'}</pre>\n              </div>\n              <div>\n                <Subheading>Computed cursor value</Subheading>\n                <pre>\n                  {sensorExecutionData?.evaluationResult?.cursor?.length\n                    ? sensorExecutionData?.evaluationResult.cursor\n                    : error\n                    ? 'Error'\n                    : 'None'}\n                </pre>\n                {error ||\n                (currentCursor ?? '') ===\n                  (sensorExecutionData?.evaluationResult?.cursor ?? '') ? null : (\n                  <Box flex={{direction: 'row', gap: 8, alignItems: 'center'}}>\n                    <Button\n                      disabled={['Persisting', 'Persisted'].includes(cursorState)}\n                      loading={cursorState === 'Persisting'}\n                      onClick={onPersistCursorValue}\n                    >\n                      <span data-testid={testId('persist-cursor')}>\n                        {cursorState === 'Persisting'\n                          ? 'Persisting'\n                          : cursorState === 'Persisted'\n                          ? 'Persisted'\n                          : 'Persist computed cursor value'}\n                      </span>\n                    </Button>\n                    {cursorState === 'Persisted' ? (\n                      <Icon name=\"check_circle\" color={Colors.accentGreen()} />\n                    ) : null}\n                  </Box>\n                )}\n              </div>\n            </Grid>\n            {error ? (\n              <div>\n                <PythonErrorInfo error={error} />\n              </div>\n            ) : null}\n            {didSkip ? (\n              <div>\n                <Subheading>Skip reason</Subheading>\n                <div>\n                  {sensorExecutionData?.evaluationResult?.skipReason || 'No skip reason was output'}\n                </div>\n              </div>\n            ) : null}\n            {numRunRequests && runRequests ? (\n              <RunRequestTable\n                runRequests={runRequests}\n                name={name}\n                jobName={jobName}\n                isJob={true}\n                repoAddress={repoAddress}\n              />\n            ) : null}\n            {dynamicPartitionRequests?.length ? (\n              <div style={{marginTop: '24px'}}>\n                <DynamicPartitionRequests requests={dynamicPartitionRequests} />\n              </div>\n            ) : null}\n          </Box>\n        </Box>\n      );\n    }\n    if (submitting) {\n      return (\n        <Box flex={{direction: 'row', gap: 8, justifyContent: 'center', alignItems: 'center'}}>\n          <Spinner purpose=\"body-text\" />\n          <div>Evaluating sensor</div>\n        </Box>\n      );\n    } else {\n      return (\n        <Box flex={{direction: 'column', gap: 8}}>\n          <div>Cursor</div>\n          <TextInput\n            value={cursor}\n            onChange={(e) => setCursor(e.target.value)}\n            data-testid={testId('cursor-input')}\n          />\n          {currentCursor === '' || !currentCursor ? (\n            <Box padding={{top: 16, bottom: 32}} flex={{justifyContent: 'center'}}>\n              <NonIdealState\n                icon=\"no-results\"\n                title=\"You're not using a cursor\"\n                description={\n                  <span>\n                    Check our{' '}\n                    <a href=\"https://docs.dagster.io/concepts/partitions-schedules-sensors/sensors#idempotence-and-cursors\">\n                      sensor documentation\n                    </a>{' '}\n                    to learn how to use cursors\n                  </span>\n                }\n              />\n            </Box>\n          ) : null}\n        </Box>\n      );\n    }\n  }, [\n    sensorExecutionData,\n    error,\n    submitting,\n    currentCursor,\n    cursorState,\n    onPersistCursorValue,\n    name,\n    jobName,\n    repoAddress,\n    cursor,\n  ]);\n\n  return (\n    <>\n      <DialogBody>\n        <div style={{minHeight: '300px'}}>{content}</div>\n      </DialogBody>\n      <DialogFooter topBorder>{buttons}</DialogFooter>\n    </>\n  );\n};\n\nexport const EVALUATE_SENSOR_MUTATION = gql`\n  mutation SensorDryRunMutation($selectorData: SensorSelector!, $cursor: String) {\n    sensorDryRun(selectorData: $selectorData, cursor: $cursor) {\n      ... on DryRunInstigationTick {\n        timestamp\n        evaluationResult {\n          cursor\n          runRequests {\n            ...RunRequestFragment\n          }\n          skipReason\n          error {\n            ...PythonErrorFragment\n          }\n          dynamicPartitionsRequests {\n            ...DynamicPartitionRequestFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment DynamicPartitionRequestFragment on DynamicPartitionRequest {\n    partitionKeys\n    partitionsDefName\n    type\n  }\n\n  ${RUN_REQUEST_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n\nconst Grid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  padding-bottom: 12px;\n  border-bottom: 1px solid ${Colors.keylineDefault()};\n  margin-bottom: 12px;\n  ${Subheading} {\n    padding-bottom: 4px;\n    display: block;\n  }\n  pre {\n    margin: 0;\n  }\n  button {\n    margin-top: 4px;\n  }\n`;\n","import {\n  Box,\n  Button,\n  FontFamily,\n  Heading,\n  Icon,\n  MetadataTableWIP,\n  PageHeader,\n  Tag,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport {useState} from 'react';\nimport styled from 'styled-components';\n\nimport {EditCursorDialog} from './EditCursorDialog';\nimport {SensorMonitoredAssets} from './SensorMonitoredAssets';\nimport {SensorResetButton} from './SensorResetButton';\nimport {SensorSwitch} from './SensorSwitch';\nimport {SensorFragment} from './types/SensorFragment.types';\nimport {QueryRefreshCountdown, QueryRefreshState} from '../app/QueryRefresh';\nimport {AutomationTargetList} from '../automation/AutomationTargetList';\nimport {AutomationAssetSelectionFragment} from '../automation/types/AutomationAssetSelectionFragment.types';\nimport {InstigationStatus, SensorType} from '../graphql/types';\nimport {RepositoryLink} from '../nav/RepositoryLink';\nimport {TimestampDisplay} from '../schedules/TimestampDisplay';\nimport {SensorDryRunDialog} from '../ticks/SensorDryRunDialog';\nimport {TickStatusTag} from '../ticks/TickStatusTag';\nimport {RepoAddress} from '../workspace/types';\n\nconst TIME_FORMAT = {showSeconds: true, showTimezone: false};\n\nexport const humanizeSensorInterval = (minIntervalSeconds?: number) => {\n  if (!minIntervalSeconds) {\n    minIntervalSeconds = 30; // should query sensor interval config when available\n  }\n  if (minIntervalSeconds < 60 || minIntervalSeconds % 60) {\n    return `~${minIntervalSeconds} sec`;\n  }\n  if (minIntervalSeconds === 3600) {\n    return `~1 hour`;\n  }\n  if (minIntervalSeconds < 3600 || minIntervalSeconds % 3600) {\n    return `~${minIntervalSeconds / 60} min`;\n  }\n  if (minIntervalSeconds === 86400) {\n    return `~1 day`;\n  }\n  if (minIntervalSeconds < 86400 || minIntervalSeconds % 86400) {\n    return `~${minIntervalSeconds / 3600} hours`;\n  }\n  return `~${minIntervalSeconds / 86400} days`;\n};\n\nexport const SensorDetails = ({\n  sensor,\n  repoAddress,\n  daemonHealth,\n  refreshState,\n  assetSelection,\n}: {\n  sensor: SensorFragment;\n  repoAddress: RepoAddress;\n  daemonHealth: boolean | null;\n  refreshState: QueryRefreshState;\n  assetSelection: AutomationAssetSelectionFragment | null;\n}) => {\n  const {\n    name,\n    sensorState: {status, ticks},\n    metadata,\n  } = sensor;\n\n  const [isCursorEditing, setCursorEditing] = useState(false);\n  const sensorSelector = {\n    sensorName: sensor.name,\n    repositoryName: repoAddress.name,\n    repositoryLocationName: repoAddress.location,\n  };\n\n  const latestTick = ticks.length ? ticks[0] : null;\n  const cursor =\n    sensor.sensorState.typeSpecificData &&\n    sensor.sensorState.typeSpecificData.__typename === 'SensorData' &&\n    sensor.sensorState.typeSpecificData.lastCursor;\n\n  const [showTestTickDialog, setShowTestTickDialog] = useState(false);\n  const running = status === InstigationStatus.RUNNING;\n\n  return (\n    <>\n      <PageHeader\n        title={<Heading>{name}</Heading>}\n        icon=\"sensors\"\n        tags={\n          <Tag icon=\"sensors\">\n            Sensor in <RepositoryLink repoAddress={repoAddress} />\n          </Tag>\n        }\n        right={\n          <Box margin={{top: 4}} flex={{direction: 'row', alignItems: 'center', gap: 8}}>\n            <QueryRefreshCountdown refreshState={refreshState} />\n            <Tooltip\n              canShow={sensor.sensorType !== SensorType.STANDARD}\n              content=\"Testing not available for this sensor type\"\n              placement=\"top-end\"\n            >\n              <Button\n                disabled={sensor.sensorType !== SensorType.STANDARD}\n                onClick={() => {\n                  setShowTestTickDialog(true);\n                }}\n              >\n                Test sensor\n              </Button>\n            </Tooltip>\n          </Box>\n        }\n      />\n      <SensorDryRunDialog\n        isOpen={showTestTickDialog}\n        onClose={() => {\n          setShowTestTickDialog(false);\n        }}\n        currentCursor={cursor || ''}\n        name={sensor.name}\n        repoAddress={repoAddress}\n        jobName={sensor.targets?.[0]?.pipelineName || ''}\n      />\n      <MetadataTableWIP>\n        <tbody>\n          {sensor.description ? (\n            <tr>\n              <td>Description</td>\n              <td>{sensor.description}</td>\n            </tr>\n          ) : null}\n          <tr>\n            <td>Latest tick</td>\n            <td>\n              {latestTick ? (\n                <>\n                  <Box\n                    flex={{direction: 'row', gap: 8, alignItems: 'center'}}\n                    style={{marginTop: '-2px'}}\n                  >\n                    <TimestampDisplay timestamp={latestTick.timestamp} timeFormat={TIME_FORMAT} />\n                    <TickStatusTag tick={latestTick} />\n                  </Box>\n                </>\n              ) : (\n                'Sensor has never run'\n              )}\n            </td>\n          </tr>\n          {sensor.nextTick && daemonHealth && running && (\n            <tr>\n              <td>Next tick</td>\n              <td>\n                <TimestampDisplay timestamp={sensor.nextTick.timestamp!} timeFormat={TIME_FORMAT} />\n              </td>\n            </tr>\n          )}\n          {(sensor.targets && sensor.targets.length) || assetSelection ? (\n            <tr>\n              <td>Target</td>\n              <TargetCell>\n                <AutomationTargetList\n                  targets={sensor.targets}\n                  repoAddress={repoAddress}\n                  assetSelection={assetSelection || null}\n                  automationType={sensor.sensorType}\n                />\n              </TargetCell>\n            </tr>\n          ) : null}\n          <tr>\n            <td>\n              <Box flex={{alignItems: 'center'}} style={{height: '32px'}}>\n                Running\n              </Box>\n            </td>\n            <td>\n              <Box\n                flex={{direction: 'row', gap: 12, alignItems: 'center'}}\n                style={{height: '32px'}}\n              >\n                <SensorSwitch repoAddress={repoAddress} sensor={sensor} />\n                {sensor.canReset && <SensorResetButton repoAddress={repoAddress} sensor={sensor} />}\n              </Box>\n            </td>\n          </tr>\n          <tr>\n            <td>Frequency</td>\n            <td>{humanizeSensorInterval(sensor.minIntervalSeconds)}</td>\n          </tr>\n          {metadata.assetKeys && metadata.assetKeys.length ? (\n            <tr>\n              <td>Monitored assets</td>\n              <td>\n                <SensorMonitoredAssets metadata={metadata} />\n              </td>\n            </tr>\n          ) : null}\n          {sensor.sensorType !== SensorType.AUTO_MATERIALIZE &&\n          sensor.sensorType !== SensorType.AUTOMATION ? (\n            <tr>\n              <td>\n                <Box flex={{alignItems: 'center'}} style={{height: '32px'}}>\n                  Cursor\n                </Box>\n              </td>\n              <td>\n                <Box flex={{direction: 'row', gap: 12, alignItems: 'center'}}>\n                  <span style={{fontFamily: FontFamily.monospace, fontSize: '14px'}}>\n                    {cursor ? cursor : 'None'}\n                  </span>\n                  <Button icon={<Icon name=\"edit\" />} onClick={() => setCursorEditing(true)}>\n                    Edit\n                  </Button>\n                </Box>\n                <EditCursorDialog\n                  isOpen={isCursorEditing}\n                  sensorSelector={sensorSelector}\n                  cursor={cursor ? cursor : ''}\n                  onClose={() => setCursorEditing(false)}\n                />\n              </td>\n            </tr>\n          ) : null}\n        </tbody>\n      </MetadataTableWIP>\n    </>\n  );\n};\n\nconst TargetCell = styled.td`\n  button {\n    line-height: 20px;\n  }\n`;\n","import {Alert, Box} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nexport type DaemonStatusForWarning = {\n  healthy: boolean | null;\n  required: boolean | null;\n};\n\ntype Props = React.ComponentPropsWithRef<typeof Box> & {\n  sensorDaemonStatus?: DaemonStatusForWarning;\n  assetDaemonStatus?: DaemonStatusForWarning;\n};\n\nexport const SensorInfo = ({sensorDaemonStatus, assetDaemonStatus, ...boxProps}: Props) => {\n  const warnForSensor =\n    sensorDaemonStatus && sensorDaemonStatus.healthy === false && sensorDaemonStatus.required;\n  const warnForAssets =\n    assetDaemonStatus && !assetDaemonStatus.healthy === false && assetDaemonStatus.required;\n\n  if (!warnForAssets && !warnForSensor) {\n    return null;\n  }\n\n  const title = () => {\n    if (warnForSensor) {\n      if (warnForAssets) {\n        return 'The sensor and asset daemons are not running';\n      }\n      return 'The sensor daemon is not running';\n    }\n    return 'The asset daemon is not running';\n  };\n\n  return (\n    <Box {...boxProps}>\n      <Alert\n        intent=\"warning\"\n        title={title()}\n        description={\n          <div>\n            See the{' '}\n            <a\n              href=\"https://docs.dagster.io/deployment/dagster-daemon\"\n              target=\"_blank\"\n              rel=\"noreferrer\"\n            >\n              dagster-daemon documentation\n            </a>{' '}\n            for more information on how to deploy the dagster-daemon process.\n          </div>\n        }\n      />\n    </Box>\n  );\n};\n","import {gql} from '@apollo/client';\n\nimport {INSTIGATION_STATE_FRAGMENT} from '../instigation/InstigationUtils';\n\nexport const SENSOR_FRAGMENT = gql`\n  fragment SensorFragment on Sensor {\n    id\n    name\n    description\n    minIntervalSeconds\n    sensorType\n    nextTick {\n      timestamp\n    }\n    defaultStatus\n    canReset\n    sensorState {\n      id\n      ...InstigationStateFragment\n    }\n    targets {\n      pipelineName\n      solidSelection\n      mode\n    }\n    metadata {\n      assetKeys {\n        path\n      }\n    }\n  }\n\n  ${INSTIGATION_STATE_FRAGMENT}\n`;\n","import {gql} from '@apollo/client';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {ASSET_DAEMON_TICK_FRAGMENT} from '../assets/auto-materialization/AssetDaemonTicksQuery';\n\nexport const ASSET_SENSOR_TICKS_QUERY = gql`\n  query AssetSensorTicksQuery(\n    $sensorSelector: SensorSelector!\n    $dayRange: Int\n    $dayOffset: Int\n    $statuses: [InstigationTickStatus!]\n    $limit: Int\n    $cursor: String\n    $beforeTimestamp: Float\n    $afterTimestamp: Float\n  ) {\n    sensorOrError(sensorSelector: $sensorSelector) {\n      ... on Sensor {\n        id\n        sensorState {\n          id\n          ticks(\n            dayRange: $dayRange\n            dayOffset: $dayOffset\n            statuses: $statuses\n            limit: $limit\n            cursor: $cursor\n            beforeTimestamp: $beforeTimestamp\n            afterTimestamp: $afterTimestamp\n          ) {\n            id\n            ...AssetDaemonTickFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${ASSET_DAEMON_TICK_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {useCallback, useEffect, useMemo} from 'react';\n\nimport {AutomaterializationEvaluationHistoryTable} from './AutomaterializationEvaluationHistoryTable';\nimport {AssetDaemonTickFragment} from './types/AssetDaemonTicksQuery.types';\nimport {useQueryRefreshAtInterval} from '../../app/QueryRefresh';\nimport {InstigationTickStatus} from '../../graphql/types';\nimport {useQueryPersistedState} from '../../hooks/useQueryPersistedState';\nimport {useBlockTraceOnQueryResult} from '../../performance/TraceContext';\nimport {useCursorPaginatedQuery} from '../../runs/useCursorPaginatedQuery';\nimport {ASSET_SENSOR_TICKS_QUERY} from '../../sensors/AssetSensorTicksQuery';\nimport {\n  AssetSensorTicksQuery,\n  AssetSensorTicksQueryVariables,\n} from '../../sensors/types/AssetSensorTicksQuery.types';\nimport {SensorFragment} from '../../sensors/types/SensorFragment.types';\nimport {RepoAddress} from '../../workspace/types';\n\nconst PAGE_SIZE = 15;\n\ninterface Props {\n  repoAddress: RepoAddress;\n  sensor: SensorFragment;\n  setSelectedTick: (tick: AssetDaemonTickFragment | null) => void;\n  setTableView: (view: 'evaluations' | 'runs') => void;\n  setTimerange: (range?: [number, number]) => void;\n  setParentStatuses: (statuses?: InstigationTickStatus[]) => void;\n}\n\nexport const SensorAutomaterializationEvaluationHistoryTable = ({\n  repoAddress,\n  sensor,\n  setSelectedTick,\n  setTableView,\n  setTimerange,\n  setParentStatuses,\n}: Props) => {\n  const [statuses, setStatuses] = useQueryPersistedState<Set<InstigationTickStatus>>({\n    queryKey: 'statuses',\n    decode: useCallback(({statuses}: {statuses?: string}) => {\n      return new Set<InstigationTickStatus>(\n        statuses\n          ? JSON.parse(statuses)\n          : [\n              InstigationTickStatus.STARTED,\n              InstigationTickStatus.SUCCESS,\n              InstigationTickStatus.FAILURE,\n              InstigationTickStatus.SKIPPED,\n            ],\n      );\n    }, []),\n    encode: useCallback((raw: Set<InstigationTickStatus>) => {\n      return {statuses: JSON.stringify(Array.from(raw))};\n    }, []),\n  });\n\n  const {queryResult, paginationProps} = useCursorPaginatedQuery<\n    AssetSensorTicksQuery,\n    AssetSensorTicksQueryVariables\n  >({\n    query: ASSET_SENSOR_TICKS_QUERY,\n    variables: {\n      sensorSelector: {\n        sensorName: sensor.name,\n        repositoryName: repoAddress.name,\n        repositoryLocationName: repoAddress.location,\n      },\n      statuses: useMemo(() => Array.from(statuses), [statuses]),\n    },\n    nextCursorForResult: (data) => {\n      if (data?.sensorOrError.__typename === 'Sensor') {\n        const ticks = data.sensorOrError.sensorState.ticks;\n        if (ticks.length) {\n          return ticks[PAGE_SIZE - 1]?.id;\n        }\n      }\n      return undefined;\n    },\n    getResultArray: (data) => {\n      if (data?.sensorOrError.__typename === 'Sensor') {\n        return data.sensorOrError.sensorState.ticks;\n      }\n      return [];\n    },\n    pageSize: PAGE_SIZE,\n  });\n\n  useBlockTraceOnQueryResult(queryResult, 'AssetSensorTicksQuery');\n\n  // Only refresh if we're on the first page\n  useQueryRefreshAtInterval(queryResult, 10000, !paginationProps.hasPrevCursor);\n\n  const allTicks =\n    queryResult.data?.sensorOrError?.__typename === 'Sensor'\n      ? queryResult.data.sensorOrError.sensorState.ticks\n      : null;\n\n  useEffect(() => {\n    if (paginationProps.hasPrevCursor) {\n      if (allTicks && allTicks.length) {\n        const start = allTicks[allTicks.length - 1]?.timestamp;\n        const end = allTicks[0]?.endTimestamp;\n        if (start && end) {\n          setTimerange([start, end]);\n        }\n      }\n    } else {\n      setTimerange(undefined);\n    }\n  }, [allTicks, paginationProps.hasPrevCursor, setTimerange]);\n\n  useEffect(() => {\n    if (paginationProps.hasPrevCursor) {\n      setParentStatuses(Array.from(statuses));\n    } else {\n      setParentStatuses(undefined);\n    }\n  }, [paginationProps.hasPrevCursor, setParentStatuses, statuses]);\n\n  return (\n    <AutomaterializationEvaluationHistoryTable\n      loading={queryResult.loading}\n      ticks={allTicks || []}\n      paginationProps={paginationProps}\n      setSelectedTick={setSelectedTick}\n      setStatuses={setStatuses}\n      setTableView={setTableView}\n      statuses={statuses}\n    />\n  );\n};\n","import {useLazyQuery} from '@apollo/client';\nimport {Box, Colors, Spinner, Subtitle2} from '@dagster-io/ui-components';\nimport {useCallback, useMemo, useState} from 'react';\n\nimport {ASSET_SENSOR_TICKS_QUERY} from './AssetSensorTicksQuery';\nimport {DaemonStatusForWarning, SensorInfo} from './SensorInfo';\nimport {\n  AssetSensorTicksQuery,\n  AssetSensorTicksQueryVariables,\n} from './types/AssetSensorTicksQuery.types';\nimport {SensorFragment} from './types/SensorFragment.types';\nimport {useRefreshAtInterval} from '../app/QueryRefresh';\nimport {AutomaterializationTickDetailDialog} from '../assets/auto-materialization/AutomaterializationTickDetailDialog';\nimport {AutomaterializeRunHistoryTable} from '../assets/auto-materialization/AutomaterializeRunHistoryTable';\nimport {DeclarativeAutomationBanner} from '../assets/auto-materialization/DeclarativeAutomationBanner';\nimport {SensorAutomaterializationEvaluationHistoryTable} from '../assets/auto-materialization/SensorAutomaterializationEvaluationHistoryTable';\nimport {AssetDaemonTickFragment} from '../assets/auto-materialization/types/AssetDaemonTicksQuery.types';\nimport {InstigationTickStatus} from '../graphql/types';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {LiveTickTimeline} from '../instigation/LiveTickTimeline2';\nimport {isStuckStartedTick} from '../instigation/util';\nimport {useBlockTraceOnQueryResult} from '../performance/TraceContext';\nimport {DagsterTag} from '../runs/RunTag';\nimport {repoAddressAsTag} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nconst MINUTE = 60 * 1000;\nconst THREE_MINUTES = 3 * MINUTE;\nconst FIVE_MINUTES = 5 * MINUTE;\nconst TWENTY_MINUTES = 20 * MINUTE;\n\ninterface Props {\n  repoAddress: RepoAddress;\n  sensor: SensorFragment;\n  loading: boolean;\n  daemonStatus: DaemonStatusForWarning;\n}\n\nexport const SensorPageAutomaterialize = (props: Props) => {\n  const {repoAddress, sensor, loading, daemonStatus} = props;\n\n  const [isPaused, setIsPaused] = useState(false);\n  const [statuses, setStatuses] = useState<undefined | InstigationTickStatus[]>(undefined);\n  const [timeRange, setTimerange] = useState<undefined | [number, number]>(undefined);\n\n  const getVariables = useCallback(\n    (currentTime = Date.now()) => {\n      if (timeRange || statuses) {\n        return {\n          sensorSelector: {\n            sensorName: sensor.name,\n            repositoryName: repoAddress.name,\n            repositoryLocationName: repoAddress.location,\n          },\n          afterTimestamp: timeRange?.[0],\n          beforeTimestamp: timeRange?.[1],\n          statuses,\n        };\n      }\n      return {\n        sensorSelector: {\n          sensorName: sensor.name,\n          repositoryName: repoAddress.name,\n          repositoryLocationName: repoAddress.location,\n        },\n        afterTimestamp: (currentTime - TWENTY_MINUTES) / 1000,\n      };\n    },\n    [sensor, repoAddress, statuses, timeRange],\n  );\n\n  const [fetch, queryResult] = useLazyQuery<AssetSensorTicksQuery, AssetSensorTicksQueryVariables>(\n    ASSET_SENSOR_TICKS_QUERY,\n  );\n  useBlockTraceOnQueryResult(queryResult, 'AssetSensorTicksQuery');\n\n  const refresh = useCallback(\n    async () => await fetch({variables: getVariables()}),\n    [fetch, getVariables],\n  );\n\n  useRefreshAtInterval({\n    refresh,\n    enabled: !isPaused && !timeRange && !statuses,\n    intervalMs: 2 * 1000,\n    leading: true,\n  });\n\n  const [selectedTick, setSelectedTick] = useState<AssetDaemonTickFragment | null>(null);\n\n  const [tableView, setTableView] = useQueryPersistedState<'evaluations' | 'runs'>(\n    useMemo(\n      () => ({\n        queryKey: 'view',\n        decode: ({view}) => (view === 'runs' ? 'runs' : 'evaluations'),\n        encode: (raw) => {\n          return {view: raw, cursor: undefined, statuses: undefined};\n        },\n      }),\n      [],\n    ),\n  );\n\n  const data = queryResult.data ?? queryResult.previousData;\n\n  const allTicks = useMemo(() => {\n    if (data?.sensorOrError.__typename === 'Sensor') {\n      return data.sensorOrError.sensorState.ticks;\n    }\n    return [];\n  }, [data]);\n\n  const ticks = useMemo(\n    () => {\n      return (\n        allTicks.map((tick, index) => {\n          const nextTick = allTicks[index - 1];\n          // For ticks that get stuck in \"Started\" state without an endTimestamp.\n          if (nextTick && isStuckStartedTick(tick, index)) {\n            const copy = {...tick};\n            copy.endTimestamp = nextTick.timestamp;\n            copy.status = InstigationTickStatus.FAILURE;\n            return copy;\n          }\n          return tick;\n        }) ?? []\n      );\n    },\n    // The allTicks array changes every 2 seconds because we query every 2 seconds.\n    // This would cause everything to re-render, to avoid that we memoize the ticks array that we pass around\n    // using the ID and status of the ticks.\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [JSON.stringify(allTicks.map((tick) => `${tick.id}:${tick.status}`))],\n  );\n\n  const onHoverTick = useCallback(\n    (tick: AssetDaemonTickFragment | undefined) => {\n      setIsPaused(!!tick);\n    },\n    [setIsPaused],\n  );\n\n  const runTableFilterTags = useMemo(() => {\n    return [\n      {\n        key: DagsterTag.RepositoryLabelTag,\n        value: repoAddressAsTag(repoAddress),\n      },\n      {key: DagsterTag.SensorName, value: sensor.name},\n    ];\n  }, [repoAddress, sensor]);\n\n  return (\n    <>\n      <Box padding={{vertical: 12, horizontal: 24}}>\n        <DeclarativeAutomationBanner />\n      </Box>\n      <SensorInfo assetDaemonHealth={daemonStatus} padding={{vertical: 16, horizontal: 24}} />\n      <Box padding={{vertical: 12, horizontal: 24}} border=\"bottom\">\n        <Subtitle2>Evaluation timeline</Subtitle2>\n      </Box>\n      {!sensor && loading ? (\n        <Box\n          padding={{vertical: 48}}\n          flex={{direction: 'row', justifyContent: 'center', gap: 12, alignItems: 'center'}}\n        >\n          <Spinner purpose=\"body-text\" />\n          <div style={{color: Colors.textLight()}}>Loading evaluations…</div>\n        </Box>\n      ) : (\n        <>\n          <LiveTickTimeline\n            ticks={ticks}\n            onHoverTick={onHoverTick}\n            onSelectTick={setSelectedTick}\n            exactRange={timeRange}\n            timeRange={TWENTY_MINUTES}\n            tickGrid={FIVE_MINUTES}\n            timeAfter={THREE_MINUTES}\n          />\n          <AutomaterializationTickDetailDialog\n            tick={selectedTick}\n            isOpen={!!selectedTick}\n            close={() => {\n              setSelectedTick(null);\n            }}\n          />\n          {tableView === 'evaluations' ? (\n            <SensorAutomaterializationEvaluationHistoryTable\n              repoAddress={repoAddress}\n              sensor={sensor}\n              setSelectedTick={setSelectedTick}\n              setTableView={setTableView}\n              setParentStatuses={setStatuses}\n              setTimerange={setTimerange}\n            />\n          ) : (\n            <AutomaterializeRunHistoryTable\n              filterTags={runTableFilterTags}\n              setTableView={setTableView}\n            />\n          )}\n        </>\n      )}\n    </>\n  );\n};\n","import {gql} from '@apollo/client';\nimport {CursorHistoryControls} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {SensorFragment} from './types/SensorFragment.types';\nimport {\n  PreviousRunsForSensorQuery,\n  PreviousRunsForSensorQueryVariables,\n} from './types/SensorPreviousRuns.types';\nimport {useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {useBlockTraceOnQueryResult} from '../performance/TraceContext';\nimport {RunTable} from '../runs/RunTable';\nimport {RUN_TABLE_RUN_FRAGMENT} from '../runs/RunTableRunFragment';\nimport {DagsterTag} from '../runs/RunTag';\nimport {useCursorPaginatedQuery} from '../runs/useCursorPaginatedQuery';\nimport {repoAddressAsTag} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nconst RUNS_LIMIT = 20;\n\nexport const SensorPreviousRuns = ({\n  sensor,\n  repoAddress,\n  highlightedIds,\n  tabs,\n}: {\n  sensor: SensorFragment;\n  repoAddress: RepoAddress;\n  tabs?: React.ReactElement;\n  highlightedIds?: string[];\n}) => {\n  const {queryResult, paginationProps} = useCursorPaginatedQuery<\n    PreviousRunsForSensorQuery,\n    PreviousRunsForSensorQueryVariables\n  >({\n    query: PREVIOUS_RUNS_FOR_SENSOR_QUERY,\n    variables: {\n      filter: {\n        tags: [\n          {key: DagsterTag.SensorName, value: sensor.name},\n          {key: DagsterTag.RepositoryLabelTag, value: repoAddressAsTag(repoAddress)},\n        ],\n      },\n    },\n    nextCursorForResult: (data) => {\n      if (data.pipelineRunsOrError.__typename !== 'Runs') {\n        return undefined;\n      }\n      return data.pipelineRunsOrError.results[RUNS_LIMIT - 1]?.id;\n    },\n    getResultArray: (data) => {\n      if (data?.pipelineRunsOrError.__typename !== 'Runs') {\n        return [];\n      }\n      return data.pipelineRunsOrError.results;\n    },\n    pageSize: RUNS_LIMIT,\n  });\n  useBlockTraceOnQueryResult(queryResult, 'PreviousRunsForSensorQuery');\n  // Only refresh if we're on the first page\n  useQueryRefreshAtInterval(queryResult, !paginationProps.hasPrevCursor ? 10000 : 60 * 60 * 1000);\n\n  let data = queryResult.data;\n\n  if (!data || data?.pipelineRunsOrError.__typename !== 'Runs') {\n    // Use previous data to stop the screen from flashing while we wait for the next data to load\n    data = queryResult.previousData;\n  }\n  if (!data || data?.pipelineRunsOrError.__typename !== 'Runs') {\n    return null;\n  }\n\n  const runs = data.pipelineRunsOrError.results;\n  return (\n    <>\n      <RunTable\n        actionBarComponents={tabs}\n        runs={runs}\n        highlightedIds={highlightedIds}\n        hideCreatedBy={true}\n      />\n      <div style={{paddingBottom: '16px'}}>\n        <CursorHistoryControls {...paginationProps} />\n      </div>\n    </>\n  );\n};\n\nconst PREVIOUS_RUNS_FOR_SENSOR_QUERY = gql`\n  query PreviousRunsForSensorQuery($filter: RunsFilter, $cursor: String, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, limit: $limit, cursor: $cursor) {\n      ... on Runs {\n        results {\n          id\n          ... on PipelineRun {\n            ...RunTableRunFragment\n          }\n        }\n      }\n    }\n  }\n\n  ${RUN_TABLE_RUN_FRAGMENT}\n`;\n","import {gql, useQuery} from '@apollo/client';\nimport {Box, ButtonGroup, Colors, NonIdealState, Page, Spinner} from '@dagster-io/ui-components';\nimport {useMemo, useState} from 'react';\nimport {Redirect, useParams} from 'react-router-dom';\n\nimport {SensorDetails} from './SensorDetails';\nimport {SENSOR_FRAGMENT} from './SensorFragment';\nimport {SensorInfo} from './SensorInfo';\nimport {SensorPageAutomaterialize} from './SensorPageAutomaterialize';\nimport {SensorPreviousRuns} from './SensorPreviousRuns';\nimport {\n  SensorAssetSelectionQuery,\n  SensorAssetSelectionQueryVariables,\n  SensorRootQuery,\n  SensorRootQueryVariables,\n} from './types/SensorRoot.types';\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {FIFTEEN_SECONDS, useMergedRefresh, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {useTrackPageView} from '../app/analytics';\nimport {AUTOMATION_ASSET_SELECTION_FRAGMENT} from '../automation/AutomationAssetSelectionFragment';\nimport {InstigationTickStatus, SensorType} from '../graphql/types';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {INSTANCE_HEALTH_FRAGMENT} from '../instance/InstanceHealthFragment';\nimport {TickHistoryTimeline, TicksTable} from '../instigation/TickHistory';\nimport {useBlockTraceOnQueryResult} from '../performance/TraceContext';\nimport {repoAddressToSelector} from '../workspace/repoAddressToSelector';\nimport {RepoAddress} from '../workspace/types';\n\nexport const SensorRoot = ({repoAddress}: {repoAddress: RepoAddress}) => {\n  useTrackPageView();\n\n  const {sensorName} = useParams<{sensorName: string}>();\n  useDocumentTitle(`Sensor: ${sensorName}`);\n\n  const sensorSelector = {\n    ...repoAddressToSelector(repoAddress),\n    sensorName,\n  };\n\n  const [statuses, setStatuses] = useState<undefined | InstigationTickStatus[]>(undefined);\n  const [timeRange, setTimerange] = useState<undefined | [number, number]>(undefined);\n  const variables = useMemo(() => {\n    if (timeRange || statuses) {\n      return {\n        afterTimestamp: timeRange?.[0],\n        beforeTimestamp: timeRange?.[1],\n        statuses,\n      };\n    }\n    return {};\n  }, [statuses, timeRange]);\n\n  const [selectedTab, setSelectedTab] = useQueryPersistedState<'evaluations' | 'runs'>(\n    useMemo(\n      () => ({\n        queryKey: 'view',\n        decode: ({view}) => (view === 'runs' ? 'runs' : 'evaluations'),\n        encode: (raw) => {\n          return {view: raw, cursor: undefined, statuses: undefined};\n        },\n      }),\n      [],\n    ),\n  );\n\n  const queryResult = useQuery<SensorRootQuery, SensorRootQueryVariables>(SENSOR_ROOT_QUERY, {\n    variables: {sensorSelector},\n    notifyOnNetworkStatusChange: true,\n  });\n  useBlockTraceOnQueryResult(queryResult, 'SensorRootQuery');\n\n  const selectionQueryResult = useQuery<\n    SensorAssetSelectionQuery,\n    SensorAssetSelectionQueryVariables\n  >(SENSOR_ASSET_SELECTIONS_QUERY, {\n    variables: {sensorSelector},\n    notifyOnNetworkStatusChange: true,\n  });\n  useBlockTraceOnQueryResult(selectionQueryResult, 'SensorAssetSelectionQuery');\n\n  const refreshState1 = useQueryRefreshAtInterval(queryResult, FIFTEEN_SECONDS);\n  const refreshState2 = useQueryRefreshAtInterval(selectionQueryResult, FIFTEEN_SECONDS);\n  const refreshState = useMergedRefresh(refreshState1, refreshState2);\n\n  const {data, loading} = queryResult;\n\n  const tabs = (\n    <ButtonGroup\n      activeItems={new Set([selectedTab])}\n      buttons={[\n        {id: 'evaluations', label: 'Evaluations'},\n        {id: 'runs', label: 'Runs'},\n      ]}\n      onClick={(id: 'evaluations' | 'runs') => {\n        setSelectedTab(id);\n      }}\n    />\n  );\n\n  if (!data && loading) {\n    return (\n      <Box\n        margin={{top: 32}}\n        flex={{direction: 'row', alignItems: 'center', justifyContent: 'center', gap: 16}}\n      >\n        <Spinner purpose=\"body-text\" />\n        <div style={{color: Colors.textLight()}}>Loading sensor…</div>\n      </Box>\n    );\n  }\n\n  if (!data || data.sensorOrError.__typename === 'SensorNotFoundError') {\n    return (\n      <Box padding={{vertical: 32}}>\n        <NonIdealState\n          icon=\"error\"\n          title={`Could not find sensor \\`${sensorName}\\` in definitions for \\`${repoAddress.name}\\``}\n        />\n      </Box>\n    );\n  }\n\n  const {sensorOrError} = data;\n  if (sensorOrError.__typename === 'PythonError') {\n    return <PythonErrorInfo error={sensorOrError} />;\n  }\n\n  if (sensorOrError.__typename === 'UnauthorizedError') {\n    return <Redirect to=\"/overview/sensors\" />;\n  }\n\n  const {instance} = data;\n  const assetSelection =\n    selectionQueryResult.data?.sensorOrError.__typename === 'Sensor'\n      ? selectionQueryResult.data.sensorOrError.assetSelection\n      : null;\n\n  if (\n    sensorOrError.sensorType === SensorType.AUTO_MATERIALIZE ||\n    sensorOrError.sensorType === SensorType.AUTOMATION\n  ) {\n    const assetDaemonStatus = instance.daemonHealth.ampDaemonStatus;\n    return (\n      <Page>\n        <SensorDetails\n          repoAddress={repoAddress}\n          sensor={sensorOrError}\n          daemonHealth={assetDaemonStatus.healthy}\n          refreshState={refreshState}\n          assetSelection={assetSelection || null}\n        />\n        <SensorPageAutomaterialize\n          repoAddress={repoAddress}\n          sensor={sensorOrError}\n          daemonStatus={assetDaemonStatus}\n          loading={loading}\n        />\n      </Page>\n    );\n  }\n\n  const sensorDaemonStatus = instance.daemonHealth.sensorDaemonStatus;\n\n  return (\n    <Page>\n      <SensorDetails\n        repoAddress={repoAddress}\n        sensor={sensorOrError}\n        daemonHealth={sensorDaemonStatus.healthy}\n        refreshState={refreshState}\n        assetSelection={assetSelection || null}\n      />\n      <SensorInfo\n        sensorDaemonStatus={sensorDaemonStatus}\n        padding={{vertical: 16, horizontal: 24}}\n      />\n      <TickHistoryTimeline repoAddress={repoAddress} name={sensorOrError.name} {...variables} />\n      <Box margin={{top: 32}} border=\"top\">\n        {selectedTab === 'evaluations' ? (\n          <TicksTable\n            tabs={tabs}\n            repoAddress={repoAddress}\n            name={sensorOrError.name}\n            setParentStatuses={setStatuses}\n            setTimerange={setTimerange}\n          />\n        ) : (\n          <SensorPreviousRuns repoAddress={repoAddress} sensor={sensorOrError} tabs={tabs} />\n        )}\n      </Box>\n    </Page>\n  );\n};\n\nconst SENSOR_ROOT_QUERY = gql`\n  query SensorRootQuery($sensorSelector: SensorSelector!) {\n    sensorOrError(sensorSelector: $sensorSelector) {\n      ... on Sensor {\n        id\n        ...SensorFragment\n      }\n      ...PythonErrorFragment\n    }\n    instance {\n      id\n      daemonHealth {\n        id\n        sensorDaemonStatus: daemonStatus(daemonType: \"SENSOR\") {\n          id\n          healthy\n          required\n        }\n        ampDaemonStatus: daemonStatus(daemonType: \"ASSET\") {\n          id\n          healthy\n          required\n        }\n      }\n      ...InstanceHealthFragment\n    }\n  }\n\n  ${SENSOR_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n  ${INSTANCE_HEALTH_FRAGMENT}\n`;\n\nexport const SENSOR_ASSET_SELECTIONS_QUERY = gql`\n  query SensorAssetSelectionQuery($sensorSelector: SensorSelector!) {\n    sensorOrError(sensorSelector: $sensorSelector) {\n      ... on Sensor {\n        id\n        assetSelection {\n          ...AutomationAssetSelectionFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${AUTOMATION_ASSET_SELECTION_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\n// todo dish: Delete this in favor of `makeAutomationKey`, they're the same.\nexport const makeSensorKey = (repoAddress: RepoAddress, sensorName: string) => {\n  return `${repoAddressAsHumanString(repoAddress)}-${sensorName}`;\n};\n\nexport const makeAutomationKey = (repoAddress: RepoAddress, automationName: string) => {\n  return `${repoAddressAsHumanString(repoAddress)}-${automationName}`;\n};\n","import {Box, Colors, Icon, Table, Tag} from '@dagster-io/ui-components';\nimport qs from 'qs';\n\nimport {RunRequestFragment} from './types/RunRequestFragment.types';\nimport {PipelineReference} from '../pipelines/PipelineReference';\nimport {testId} from '../testing/testId';\nimport {AnchorButton} from '../ui/AnchorButton';\nimport {useRepository} from '../workspace/WorkspaceContext';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\ntype Props = {\n  name: string;\n  runRequests: RunRequestFragment[];\n  repoAddress: RepoAddress;\n  isJob: boolean;\n  jobName: string;\n  mode?: string;\n};\n\nexport const RunRequestTable = ({runRequests, isJob, repoAddress, mode, jobName}: Props) => {\n  const repo = useRepository(repoAddress);\n\n  const body = (\n    <tbody data-testid={testId('table-body')}>\n      {runRequests.map((request, index) => {\n        return (\n          <tr key={index} data-testid={testId(request.runKey || '')}>\n            <td>\n              <Box flex={{alignItems: 'center', gap: 8}}>\n                <PipelineReference\n                  pipelineName={request.jobName ?? jobName}\n                  pipelineHrefContext={repoAddress}\n                  isJob={!!repo && isJob}\n                  showIcon\n                  size=\"small\"\n                />\n              </Box>\n            </td>\n            <td>\n              <Box flex={{direction: 'row', gap: 8, wrap: 'wrap'}}>\n                {filterTags(request.tags).map(({key, value}) => (\n                  <Tag key={key}>{`${key}: ${value}`}</Tag>\n                ))}\n              </Box>\n            </td>\n            <td>\n              <AnchorButton\n                icon={<Icon name=\"edit\" />}\n                target=\"_blank\"\n                to={workspacePathFromAddress(\n                  repoAddress,\n                  `/pipeline_or_job/${request.jobName ?? jobName}/playground/setup?${qs.stringify({\n                    mode,\n                    config: request.runConfigYaml,\n                    tags: request.tags,\n                    assetSelection: request.assetSelection?.map(({path}) => ({\n                      assetKey: {path},\n                    })),\n                  })}`,\n                )}\n              >\n                Open in Launchpad\n              </AnchorButton>\n            </td>\n          </tr>\n        );\n      })}\n    </tbody>\n  );\n  return (\n    <div>\n      <Table style={{borderRight: `1px solid ${Colors.keylineDefault()}`, tableLayout: 'fixed'}}>\n        <thead>\n          <tr>\n            <th>{isJob ? 'Job' : 'Pipeline'} name</th>\n            <th>Tags</th>\n            <th>Configuration</th>\n          </tr>\n        </thead>\n        {body}\n      </Table>\n    </div>\n  );\n};\n\n// Filter out tags we already display in other ways\nfunction filterTags(tags: Array<{key: string; value: any}>) {\n  return tags.filter(({key}) => {\n    // Exclude the tag that specifies the schedule if this is a schedule name\n    return !['dagster/schedule_name'].includes(key);\n  });\n}\n","import {gql} from '@apollo/client';\n\nexport const RUN_REQUEST_FRAGMENT = gql`\n  fragment RunRequestFragment on RunRequest {\n    runConfigYaml\n    tags {\n      key\n      value\n    }\n    runKey\n    jobName\n    assetSelection {\n      path\n    }\n  }\n`;\n","import {\n  BaseTag,\n  Box,\n  Button,\n  ButtonLink,\n  Colors,\n  Dialog,\n  DialogBody,\n  DialogFooter,\n  Tag,\n  Tooltip,\n  ifPlural,\n} from '@dagster-io/ui-components';\nimport {useMemo, useState} from 'react';\n\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {AssetDaemonTickFragment} from '../assets/auto-materialization/types/AssetDaemonTicksQuery.types';\nimport {InstigationTickStatus} from '../graphql/types';\nimport {HistoryTickFragment} from '../instigation/types/InstigationUtils.types';\n\nexport const TickStatusTag = ({\n  tick,\n  isStuckStarted,\n}: {\n  tick:\n    | Pick<AssetDaemonTickFragment, 'status' | 'error' | 'requestedAssetMaterializationCount'>\n    | Pick<HistoryTickFragment, 'status' | 'skipReason' | 'runIds' | 'runKeys' | 'error'>;\n  isStuckStarted?: boolean;\n}) => {\n  const [showErrors, setShowErrors] = useState(false);\n  const tag = useMemo(() => {\n    const isAssetDaemonTick = 'requestedAssetMaterializationCount' in tick;\n    const requestedItem = isAssetDaemonTick ? 'materialization' : 'run';\n    switch (tick.status) {\n      case InstigationTickStatus.STARTED:\n        return (\n          <Tag intent=\"primary\" icon={isStuckStarted ? undefined : 'spinner'}>\n            {isStuckStarted ? 'In progress' : 'Evaluating'}\n          </Tag>\n        );\n      case InstigationTickStatus.SKIPPED:\n        const tag = (\n          <BaseTag\n            fillColor={Colors.backgroundLighter()}\n            label={isAssetDaemonTick ? '0 materializations requested' : '0 runs requested'}\n          />\n        );\n        if ('runKeys' in tick && tick.runKeys.length) {\n          const message = `${tick.runKeys.length} runs requested, but skipped because the runs already exist for the requested keys.`;\n          return (\n            <Tooltip position=\"right\" content={message}>\n              {tag}\n            </Tooltip>\n          );\n        }\n        if ('skipReason' in tick && tick.skipReason) {\n          return (\n            <Tooltip position=\"right\" content={tick.skipReason} targetTagName=\"div\">\n              {tag}\n            </Tooltip>\n          );\n        }\n        return tag;\n      case InstigationTickStatus.FAILURE:\n        return (\n          <Box flex={{direction: 'row', alignItems: 'center', gap: 6}}>\n            <Tag intent=\"danger\">Failure</Tag>\n            {tick.error ? (\n              <ButtonLink\n                onClick={() => {\n                  setShowErrors(true);\n                }}\n              >\n                View\n              </ButtonLink>\n            ) : null}\n          </Box>\n        );\n      case InstigationTickStatus.SUCCESS:\n        const count = isAssetDaemonTick\n          ? tick.requestedAssetMaterializationCount\n          : tick.runIds.length;\n        const successTag = (\n          <Tag intent=\"success\">\n            {count} {requestedItem}\n            {ifPlural(count, '', 's')} requested\n          </Tag>\n        );\n        if ('runKeys' in tick && tick.runKeys.length > tick.runIds.length) {\n          const message = `${tick.runKeys.length} runs requested, but ${\n            tick.runKeys.length - tick.runIds.length\n          } skipped because the runs already exist for those requested keys.`;\n          return (\n            <Tooltip position=\"right\" content={message}>\n              {successTag}\n            </Tooltip>\n          );\n        }\n        return successTag;\n    }\n  }, [isStuckStarted, tick]);\n\n  return (\n    <>\n      {tag}\n      {tick.error ? (\n        <Dialog isOpen={showErrors} title=\"Error\" style={{width: '80vw'}}>\n          <DialogBody>\n            <PythonErrorInfo error={tick.error} />\n          </DialogBody>\n          <DialogFooter topBorder>\n            <Button\n              intent=\"primary\"\n              onClick={() => {\n                setShowErrors(false);\n              }}\n            >\n              Close\n            </Button>\n          </DialogFooter>\n        </Dialog>\n      ) : null}\n    </>\n  );\n};\n","import {Checkbox, Tooltip} from '@dagster-io/ui-components';\n\ninterface Props {\n  checkedCount: number;\n  totalCount: number;\n  onToggleAll: (checked: boolean) => void;\n}\n\nexport const CheckAllBox = ({checkedCount, totalCount, onToggleAll}: Props) => {\n  return (\n    <Tooltip content={`${checkedCount} of ${totalCount} selected`} placement=\"top\">\n      <Checkbox\n        indeterminate={checkedCount > 0 && checkedCount !== totalCount}\n        checked={checkedCount > 0 && checkedCount === totalCount}\n        onChange={(e) => {\n          if (e.target instanceof HTMLInputElement) {\n            onToggleAll(checkedCount !== totalCount);\n          }\n        }}\n      />\n    </Tooltip>\n  );\n};\n","import {InstigationStatus} from '../../graphql/types';\nimport {useQueryPersistedState} from '../../hooks/useQueryPersistedState';\nimport {useStaticSetFilter} from '../BaseFilters/useStaticSetFilter';\n\nexport const useInstigationStatusFilter = () => {\n  const [state, onStateChanged] = useQueryPersistedState<Set<InstigationStatus>>({\n    encode: (vals) => ({instigationStatus: vals.size ? Array.from(vals).join(',') : undefined}),\n    decode: (qs) => new Set((qs.instigationStatus?.split(',') as InstigationStatus[]) || []),\n  });\n  return useStaticSetFilter<InstigationStatus>({\n    name: 'Running state',\n    icon: 'toggle_off',\n    allValues: [\n      {value: InstigationStatus.RUNNING, match: ['on', 'running']},\n      {value: InstigationStatus.STOPPED, match: ['off', 'stopped']},\n    ],\n    getKey: (value) => value,\n    renderLabel: ({value}) => (\n      <span>{value === InstigationStatus.RUNNING ? 'Running' : 'Stopped'}</span>\n    ),\n    state,\n    onStateChanged,\n    getStringValue: (value) => value,\n  });\n};\n","import {gql, useLazyQuery} from '@apollo/client';\nimport {\n  Box,\n  Button,\n  Caption,\n  Checkbox,\n  Colors,\n  Icon,\n  Menu,\n  MiddleTruncate,\n  Popover,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {LoadingOrNone, useDelayedRowQuery} from './VirtualizedWorkspaceTable';\nimport {isThisThingAJob, useRepository} from './WorkspaceContext';\nimport {RepoAddress} from './types';\nimport {\n  SingleScheduleQuery,\n  SingleScheduleQueryVariables,\n} from './types/VirtualizedScheduleRow.types';\nimport {workspacePathFromAddress} from './workspacePath';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {AutomationTargetList} from '../automation/AutomationTargetList';\nimport {InstigationStatus} from '../graphql/types';\nimport {LastRunSummary} from '../instance/LastRunSummary';\nimport {TICK_TAG_FRAGMENT} from '../instigation/InstigationTick';\nimport {BasicInstigationStateFragment} from '../overview/types/BasicInstigationStateFragment.types';\nimport {useBlockTraceOnQueryResult} from '../performance/TraceContext';\nimport {RUN_TIME_FRAGMENT} from '../runs/RunUtils';\nimport {CronTag} from '../schedules/CronTag';\nimport {SCHEDULE_ASSET_SELECTIONS_QUERY} from '../schedules/ScheduleAssetSelectionsQuery';\nimport {SCHEDULE_SWITCH_FRAGMENT, ScheduleSwitch} from '../schedules/ScheduleSwitch';\nimport {errorDisplay} from '../schedules/SchedulesTable';\nimport {TimestampDisplay} from '../schedules/TimestampDisplay';\nimport {\n  ScheduleAssetSelectionQuery,\n  ScheduleAssetSelectionQueryVariables,\n} from '../schedules/types/ScheduleAssetSelectionsQuery.types';\nimport {TickStatusTag} from '../ticks/TickStatusTag';\nimport {MenuLink} from '../ui/MenuLink';\nimport {HeaderCell, HeaderRow, Row, RowCell} from '../ui/VirtualizedTable';\n\nconst TEMPLATE_COLUMNS = '1.2fr 1fr 1fr 76px 148px 210px 92px';\nconst TEMPLATE_COLUMNS_WITH_CHECKBOX = `60px ${TEMPLATE_COLUMNS}`;\n\ninterface ScheduleRowProps {\n  name: string;\n  repoAddress: RepoAddress;\n  checked: boolean;\n  onToggleChecked: (values: {checked: boolean; shiftKey: boolean}) => void;\n  showCheckboxColumn: boolean;\n  scheduleState: BasicInstigationStateFragment;\n  height: number;\n  start: number;\n}\n\nexport const VirtualizedScheduleRow = (props: ScheduleRowProps) => {\n  const {\n    name,\n    repoAddress,\n    checked,\n    onToggleChecked,\n    showCheckboxColumn,\n    scheduleState,\n    start,\n    height,\n  } = props;\n\n  const repo = useRepository(repoAddress);\n\n  const [querySchedule, scheduleQueryResult] = useLazyQuery<\n    SingleScheduleQuery,\n    SingleScheduleQueryVariables\n  >(SINGLE_SCHEDULE_QUERY, {\n    variables: {\n      selector: {\n        repositoryName: repoAddress.name,\n        repositoryLocationName: repoAddress.location,\n        scheduleName: name,\n      },\n    },\n    notifyOnNetworkStatusChange: true,\n  });\n\n  useBlockTraceOnQueryResult(scheduleQueryResult, 'SingleScheduleQuery');\n\n  const [queryScheduleAssetSelection, scheduleAssetSelectionQueryResult] = useLazyQuery<\n    ScheduleAssetSelectionQuery,\n    ScheduleAssetSelectionQueryVariables\n  >(SCHEDULE_ASSET_SELECTIONS_QUERY, {\n    variables: {\n      scheduleSelector: {\n        repositoryName: repoAddress.name,\n        repositoryLocationName: repoAddress.location,\n        scheduleName: name,\n      },\n    },\n  });\n\n  useBlockTraceOnQueryResult(scheduleAssetSelectionQueryResult, 'ScheduleAssetSelectionQuery');\n\n  useDelayedRowQuery(\n    React.useCallback(() => {\n      querySchedule();\n      queryScheduleAssetSelection();\n    }, [querySchedule, queryScheduleAssetSelection]),\n  );\n\n  useQueryRefreshAtInterval(scheduleQueryResult, FIFTEEN_SECONDS);\n  useQueryRefreshAtInterval(scheduleAssetSelectionQueryResult, FIFTEEN_SECONDS);\n\n  const {data} = scheduleQueryResult;\n\n  const scheduleData = React.useMemo(() => {\n    if (data?.scheduleOrError.__typename !== 'Schedule') {\n      return null;\n    }\n\n    return data.scheduleOrError;\n  }, [data]);\n\n  const isJob = !!(scheduleData && isThisThingAJob(repo, scheduleData.pipelineName));\n\n  const onChange = (e: React.FormEvent<HTMLInputElement>) => {\n    if (onToggleChecked && e.target instanceof HTMLInputElement) {\n      const {checked} = e.target;\n      const shiftKey =\n        e.nativeEvent instanceof MouseEvent && e.nativeEvent.getModifierState('Shift');\n      onToggleChecked({checked, shiftKey});\n    }\n  };\n\n  const checkboxState = React.useMemo(() => {\n    const {hasStartPermission, hasStopPermission, status} = scheduleState;\n    if (status === InstigationStatus.RUNNING && !hasStopPermission) {\n      return {disabled: true, message: 'You do not have permission to stop this schedule'};\n    }\n    if (status === InstigationStatus.STOPPED && !hasStartPermission) {\n      return {disabled: true, message: 'You do not have permission to start this schedule'};\n    }\n    return {disabled: false};\n  }, [scheduleState]);\n\n  const tick = scheduleData?.scheduleState.ticks[0];\n  const targets = scheduleData?.pipelineName ? [{pipelineName: scheduleData.pipelineName}] : null;\n  const assetSelection =\n    scheduleAssetSelectionQueryResult.data?.scheduleOrError.__typename === 'Schedule'\n      ? scheduleAssetSelectionQueryResult.data.scheduleOrError.assetSelection\n      : null;\n\n  return (\n    <Row $height={height} $start={start}>\n      <RowGrid border=\"bottom\" $showCheckboxColumn={showCheckboxColumn}>\n        {showCheckboxColumn ? (\n          <RowCell>\n            <Tooltip\n              canShow={checkboxState.disabled}\n              content={checkboxState.message || ''}\n              placement=\"top\"\n            >\n              <Checkbox disabled={checkboxState.disabled} checked={checked} onChange={onChange} />\n            </Tooltip>\n          </RowCell>\n        ) : null}\n        <RowCell>\n          <span style={{fontWeight: 500}}>\n            <Link to={workspacePathFromAddress(repoAddress, `/schedules/${name}`)}>\n              <MiddleTruncate text={name} />\n            </Link>\n          </span>\n        </RowCell>\n        <RowCell>\n          {scheduleData ? (\n            <Box flex={{direction: 'column', gap: 4}}>\n              <CronTag\n                cronSchedule={scheduleData.cronSchedule}\n                executionTimezone={scheduleData.executionTimezone}\n              />\n              {scheduleData.scheduleState.nextTick &&\n              scheduleData.scheduleState.status === InstigationStatus.RUNNING ? (\n                <Caption>\n                  <div\n                    style={{\n                      overflow: 'hidden',\n                      whiteSpace: 'nowrap',\n                      maxWidth: '100%',\n                      textOverflow: 'ellipsis',\n                    }}\n                  >\n                    Next tick:&nbsp;\n                    <TimestampDisplay\n                      timestamp={scheduleData.scheduleState.nextTick.timestamp!}\n                      timezone={scheduleData.executionTimezone}\n                      timeFormat={{showSeconds: false, showTimezone: true}}\n                    />\n                  </div>\n                </Caption>\n              ) : null}\n            </Box>\n          ) : (\n            <LoadingOrNone queryResult={scheduleQueryResult} />\n          )}\n        </RowCell>\n        <RowCell>\n          <div>\n            <AutomationTargetList\n              repoAddress={repoAddress}\n              automationType=\"schedule\"\n              targets={targets}\n              assetSelection={assetSelection}\n            />\n          </div>\n        </RowCell>\n        <RowCell>\n          {scheduleData ? (\n            <Box flex={{direction: 'column', gap: 4}}>\n              {/* Keyed so that a new switch is always rendered, otherwise it's reused and animates on/off */}\n              <ScheduleSwitch key={name} repoAddress={repoAddress} schedule={scheduleData} />\n              {errorDisplay(\n                scheduleData.scheduleState.status,\n                scheduleData.scheduleState.runningCount,\n              )}\n            </Box>\n          ) : null}\n        </RowCell>\n        <RowCell>\n          {tick ? (\n            <div>\n              <TickStatusTag tick={tick} />\n            </div>\n          ) : (\n            <LoadingOrNone queryResult={scheduleQueryResult} />\n          )}\n        </RowCell>\n        <RowCell>\n          {scheduleData?.scheduleState && scheduleData?.scheduleState.runs[0] ? (\n            <LastRunSummary\n              run={scheduleData.scheduleState.runs[0]}\n              name={name}\n              showButton={false}\n              showHover\n              showSummary={false}\n            />\n          ) : (\n            <LoadingOrNone queryResult={scheduleQueryResult} />\n          )}\n        </RowCell>\n        <RowCell>\n          {scheduleData?.partitionSet ? (\n            <Popover\n              content={\n                <Menu>\n                  <MenuLink\n                    text=\"View partition history\"\n                    icon=\"dynamic_feed\"\n                    target=\"_blank\"\n                    to={workspacePathFromAddress(\n                      repoAddress,\n                      `/${isJob ? 'jobs' : 'pipelines'}/${scheduleData.pipelineName}/partitions`,\n                    )}\n                  />\n                  <MenuLink\n                    text=\"Launch partition backfill\"\n                    icon=\"add_circle\"\n                    target=\"_blank\"\n                    to={workspacePathFromAddress(\n                      repoAddress,\n                      `/${isJob ? 'jobs' : 'pipelines'}/${scheduleData.pipelineName}/partitions`,\n                    )}\n                  />\n                </Menu>\n              }\n              position=\"bottom-left\"\n            >\n              <Button icon={<Icon name=\"expand_more\" />} />\n            </Popover>\n          ) : (\n            <span style={{color: Colors.textLight()}}>{'\\u2013'}</span>\n          )}\n        </RowCell>\n      </RowGrid>\n    </Row>\n  );\n};\n\nexport const VirtualizedScheduleHeader = (props: {checkbox: React.ReactNode}) => {\n  const {checkbox} = props;\n  return (\n    <HeaderRow\n      templateColumns={checkbox ? TEMPLATE_COLUMNS_WITH_CHECKBOX : TEMPLATE_COLUMNS}\n      sticky\n    >\n      {checkbox ? (\n        <HeaderCell>\n          <div style={{position: 'relative', top: '-1px'}}>{checkbox}</div>\n        </HeaderCell>\n      ) : null}\n      <HeaderCell>Schedule name</HeaderCell>\n      <HeaderCell>Schedule</HeaderCell>\n      <HeaderCell>Target</HeaderCell>\n      <HeaderCell>Running</HeaderCell>\n      <HeaderCell>Last tick</HeaderCell>\n      <HeaderCell>Last run</HeaderCell>\n      <HeaderCell>Actions</HeaderCell>\n    </HeaderRow>\n  );\n};\n\nconst RowGrid = styled(Box)<{$showCheckboxColumn: boolean}>`\n  display: grid;\n  grid-template-columns: ${({$showCheckboxColumn}) =>\n    $showCheckboxColumn ? TEMPLATE_COLUMNS_WITH_CHECKBOX : TEMPLATE_COLUMNS};\n  height: 100%;\n`;\n\nexport const SINGLE_SCHEDULE_QUERY = gql`\n  query SingleScheduleQuery($selector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $selector) {\n      ... on Schedule {\n        id\n        name\n        pipelineName\n        description\n        scheduleState {\n          id\n          runningCount\n          hasStartPermission\n          hasStopPermission\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        partitionSet {\n          id\n          name\n        }\n        ...ScheduleSwitchFragment\n      }\n    }\n  }\n\n  ${TICK_TAG_FRAGMENT}\n  ${RUN_TIME_FRAGMENT}\n  ${SCHEDULE_SWITCH_FRAGMENT}\n`;\n","import {gql, useLazyQuery} from '@apollo/client';\nimport {\n  Box,\n  Caption,\n  Checkbox,\n  Colors,\n  IconName,\n  MiddleTruncate,\n  Tag,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {LoadingOrNone, useDelayedRowQuery} from './VirtualizedWorkspaceTable';\nimport {RepoAddress} from './types';\nimport {SingleSensorQuery, SingleSensorQueryVariables} from './types/VirtualizedSensorRow.types';\nimport {workspacePathFromAddress} from './workspacePath';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {AutomationTargetList} from '../automation/AutomationTargetList';\nimport {InstigationStatus, SensorType} from '../graphql/types';\nimport {LastRunSummary} from '../instance/LastRunSummary';\nimport {TICK_TAG_FRAGMENT} from '../instigation/InstigationTick';\nimport {BasicInstigationStateFragment} from '../overview/types/BasicInstigationStateFragment.types';\nimport {useBlockTraceOnQueryResult} from '../performance/TraceContext';\nimport {RUN_TIME_FRAGMENT} from '../runs/RunUtils';\nimport {humanizeSensorInterval} from '../sensors/SensorDetails';\nimport {SENSOR_ASSET_SELECTIONS_QUERY} from '../sensors/SensorRoot';\nimport {SENSOR_SWITCH_FRAGMENT, SensorSwitch} from '../sensors/SensorSwitch';\nimport {\n  SensorAssetSelectionQuery,\n  SensorAssetSelectionQueryVariables,\n} from '../sensors/types/SensorRoot.types';\nimport {TickStatusTag} from '../ticks/TickStatusTag';\nimport {HeaderCell, HeaderRow, Row, RowCell} from '../ui/VirtualizedTable';\n\nconst TEMPLATE_COLUMNS = '1.5fr 180px 1fr 76px 120px 148px 180px';\nconst TEMPLATE_COLUMNS_WITH_CHECKBOX = `60px ${TEMPLATE_COLUMNS}`;\n\ninterface SensorRowProps {\n  name: string;\n  repoAddress: RepoAddress;\n  checked: boolean;\n  onToggleChecked: (values: {checked: boolean; shiftKey: boolean}) => void;\n  showCheckboxColumn: boolean;\n  sensorState: BasicInstigationStateFragment;\n  height: number;\n  start: number;\n}\n\nexport const VirtualizedSensorRow = (props: SensorRowProps) => {\n  const {\n    name,\n    repoAddress,\n    checked,\n    onToggleChecked,\n    showCheckboxColumn,\n    sensorState,\n    start,\n    height,\n  } = props;\n\n  const [querySensor, sensorQueryResult] = useLazyQuery<\n    SingleSensorQuery,\n    SingleSensorQueryVariables\n  >(SINGLE_SENSOR_QUERY, {\n    variables: {\n      selector: {\n        repositoryName: repoAddress.name,\n        repositoryLocationName: repoAddress.location,\n        sensorName: name,\n      },\n    },\n  });\n\n  useBlockTraceOnQueryResult(sensorQueryResult, 'SingleSensorQuery');\n\n  const [querySensorAssetSelection, sensorAssetSelectionQueryResult] = useLazyQuery<\n    SensorAssetSelectionQuery,\n    SensorAssetSelectionQueryVariables\n  >(SENSOR_ASSET_SELECTIONS_QUERY, {\n    variables: {\n      sensorSelector: {\n        repositoryName: repoAddress.name,\n        repositoryLocationName: repoAddress.location,\n        sensorName: name,\n      },\n    },\n  });\n\n  useBlockTraceOnQueryResult(sensorAssetSelectionQueryResult, 'SensorAssetSelectionQuery');\n\n  useDelayedRowQuery(\n    React.useCallback(() => {\n      querySensor();\n      querySensorAssetSelection();\n    }, [querySensor, querySensorAssetSelection]),\n  );\n\n  useQueryRefreshAtInterval(sensorQueryResult, FIFTEEN_SECONDS);\n  useQueryRefreshAtInterval(sensorAssetSelectionQueryResult, FIFTEEN_SECONDS);\n\n  const {data} = sensorQueryResult;\n\n  const sensorData = React.useMemo(() => {\n    if (data?.sensorOrError.__typename !== 'Sensor') {\n      return null;\n    }\n\n    return data.sensorOrError;\n  }, [data]);\n\n  const onChange = (e: React.FormEvent<HTMLInputElement>) => {\n    if (onToggleChecked && e.target instanceof HTMLInputElement) {\n      const {checked} = e.target;\n      const shiftKey =\n        e.nativeEvent instanceof MouseEvent && e.nativeEvent.getModifierState('Shift');\n      onToggleChecked({checked, shiftKey});\n    }\n  };\n\n  const checkboxState = React.useMemo(() => {\n    const {hasStartPermission, hasStopPermission, status} = sensorState;\n    if (status === InstigationStatus.RUNNING && !hasStopPermission) {\n      return {disabled: true, message: 'You do not have permission to stop this sensor'};\n    }\n    if (status === InstigationStatus.STOPPED && !hasStartPermission) {\n      return {disabled: true, message: 'You do not have permission to start this sensor'};\n    }\n    return {disabled: false};\n  }, [sensorState]);\n\n  const tick = sensorData?.sensorState.ticks[0];\n\n  const sensorType = sensorData?.sensorType;\n  const sensorInfo = sensorType ? SENSOR_TYPE_META[sensorType] : null;\n\n  const selectedAssets =\n    sensorAssetSelectionQueryResult.data?.sensorOrError.__typename === 'Sensor'\n      ? sensorAssetSelectionQueryResult.data.sensorOrError.assetSelection\n      : null;\n\n  return (\n    <Row $height={height} $start={start}>\n      <RowGrid border=\"bottom\" $showCheckboxColumn={showCheckboxColumn}>\n        {showCheckboxColumn ? (\n          <RowCell>\n            <Tooltip\n              canShow={checkboxState.disabled}\n              content={checkboxState.message || ''}\n              placement=\"top\"\n            >\n              <Checkbox disabled={checkboxState.disabled} checked={checked} onChange={onChange} />\n            </Tooltip>\n          </RowCell>\n        ) : null}\n        <RowCell>\n          <Box flex={{direction: 'column', gap: 4}}>\n            <span style={{fontWeight: 500}}>\n              <Link to={workspacePathFromAddress(repoAddress, `/sensors/${name}`)}>\n                <MiddleTruncate text={name} />\n              </Link>\n            </span>\n            <div\n              style={{\n                maxWidth: '100%',\n                overflow: 'hidden',\n                textOverflow: 'ellipsis',\n              }}\n            >\n              <Caption\n                style={{\n                  color: Colors.textLight(),\n                  whiteSpace: 'nowrap',\n                }}\n              >\n                {sensorData?.description}\n              </Caption>\n            </div>\n          </Box>\n        </RowCell>\n        <RowCell>\n          <div>\n            {sensorInfo ? (\n              sensorInfo.description ? (\n                <Tooltip content={sensorInfo.description}>\n                  <Tag icon={sensorInfo.icon}>{sensorInfo.name}</Tag>\n                </Tooltip>\n              ) : (\n                <Tag icon={sensorInfo.icon}>{sensorInfo.name}</Tag>\n              )\n            ) : null}\n          </div>\n        </RowCell>\n        <RowCell>\n          {sensorData ? (\n            <div>\n              <AutomationTargetList\n                targets={sensorData.targets}\n                repoAddress={repoAddress}\n                assetSelection={selectedAssets}\n                automationType={sensorData.sensorType}\n              />\n            </div>\n          ) : null}\n        </RowCell>\n        <RowCell>\n          {sensorData ? (\n            <Box flex={{direction: 'column', gap: 4}}>\n              {/* Keyed so that a new switch is always rendered, otherwise it's reused and animates on/off */}\n              <SensorSwitch key={name} repoAddress={repoAddress} sensor={sensorData} />\n            </Box>\n          ) : null}\n        </RowCell>\n        <RowCell>\n          {sensorData ? (\n            <div style={{color: Colors.textDefault()}}>\n              {humanizeSensorInterval(sensorData.minIntervalSeconds)}\n            </div>\n          ) : (\n            <LoadingOrNone queryResult={sensorQueryResult} />\n          )}\n        </RowCell>\n        <RowCell>\n          {tick ? (\n            <div>\n              <TickStatusTag tick={tick} />\n            </div>\n          ) : (\n            <LoadingOrNone queryResult={sensorQueryResult} />\n          )}\n        </RowCell>\n        <RowCell>\n          {sensorData?.sensorState && sensorData?.sensorState.runs[0] ? (\n            <LastRunSummary\n              run={sensorData.sensorState.runs[0]}\n              name={name}\n              showButton={false}\n              showHover\n              showSummary={false}\n            />\n          ) : (\n            <LoadingOrNone queryResult={sensorQueryResult} />\n          )}\n        </RowCell>\n      </RowGrid>\n    </Row>\n  );\n};\n\nexport const VirtualizedSensorHeader = ({checkbox}: {checkbox: React.ReactNode}) => {\n  return (\n    <HeaderRow\n      templateColumns={checkbox ? TEMPLATE_COLUMNS_WITH_CHECKBOX : TEMPLATE_COLUMNS}\n      sticky\n    >\n      {checkbox ? (\n        <HeaderCell>\n          <div style={{position: 'relative', top: '-1px'}}>{checkbox}</div>\n        </HeaderCell>\n      ) : null}\n      <HeaderCell>Name</HeaderCell>\n      <HeaderCell>Type</HeaderCell>\n      <HeaderCell>Target</HeaderCell>\n      <HeaderCell>Running</HeaderCell>\n      <HeaderCell>Frequency</HeaderCell>\n      <HeaderCell>Last tick</HeaderCell>\n      <HeaderCell>Last run</HeaderCell>\n    </HeaderRow>\n  );\n};\n\nconst RowGrid = styled(Box)<{$showCheckboxColumn: boolean}>`\n  display: grid;\n  grid-template-columns: ${({$showCheckboxColumn}) =>\n    $showCheckboxColumn ? TEMPLATE_COLUMNS_WITH_CHECKBOX : TEMPLATE_COLUMNS};\n  height: 100%;\n`;\n\nexport const SENSOR_TYPE_META: Record<\n  SensorType,\n  {name: string; icon: IconName; description: string | null}\n> = {\n  [SensorType.ASSET]: {\n    name: 'Asset sensor',\n    icon: 'sensors',\n    description: 'Asset sensors instigate runs when a materialization occurs',\n  },\n  [SensorType.AUTO_MATERIALIZE]: {\n    name: 'Automation condition sensor',\n    icon: 'auto_materialize_policy',\n    description:\n      'Auto-materialize sensors trigger runs based on auto-materialize policies defined on assets.',\n  },\n  [SensorType.AUTOMATION]: {\n    name: 'Automation condition sensor',\n    icon: 'auto_materialize_policy',\n    description: 'Automation sensors trigger runs based on conditions defined on assets.',\n  },\n  [SensorType.FRESHNESS_POLICY]: {\n    name: 'Freshness policy sensor',\n    icon: 'sensors',\n    description:\n      'Freshness sensors check the freshness of assets on each tick, then perform an action in response to that status',\n  },\n  [SensorType.MULTI_ASSET]: {\n    name: 'Multi-asset sensor',\n    icon: 'sensors',\n    description:\n      'Multi asset sensors trigger job executions based on multiple asset materialization event streams',\n  },\n  [SensorType.RUN_STATUS]: {\n    name: 'Run status sensor',\n    icon: 'sensors',\n    description: 'Run status sensors react to run status',\n  },\n  [SensorType.STANDARD]: {\n    name: 'Standard sensor',\n    icon: 'sensors',\n    description: null,\n  },\n  [SensorType.UNKNOWN]: {\n    name: 'Standard sensor',\n    icon: 'sensors',\n    description: null,\n  },\n};\n\nexport const SINGLE_SENSOR_QUERY = gql`\n  query SingleSensorQuery($selector: SensorSelector!) {\n    sensorOrError(sensorSelector: $selector) {\n      ... on Sensor {\n        id\n        description\n        name\n        targets {\n          pipelineName\n        }\n        metadata {\n          assetKeys {\n            path\n          }\n        }\n        minIntervalSeconds\n        description\n        sensorState {\n          id\n          runningCount\n          hasStartPermission\n          hasStopPermission\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ${TICK_TAG_FRAGMENT}\n  ${RUN_TIME_FRAGMENT}\n  ${SENSOR_SWITCH_FRAGMENT}\n`;\n"],"names":["ASSET_DAEMON_TICK_FRAGMENT","gql","PYTHON_ERROR_FRAGMENT","ASSET_DAEMON_TICKS_QUERY","AutomaterializationEvaluationHistoryTable","loading","ticks","statuses","setStatuses","setSelectedTick","setTableView","paginationProps","param","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__","jsxs","Box","flex","justifyContent","alignItems","padding","vertical","horizontal","margin","top","border","direction","gap","jsx","ButtonGroup","activeItems","Set","buttons","id","label","onClick","length","Spinner","purpose","StatusCheckbox","status","InstigationTickStatus","STARTED","SUCCESS","FAILURE","SKIPPED","TableWrapper","thead","tr","th","style","width","tbody","map","tick","index","isTickStuckInStartedState","hasPrevCursor","td","Timestamp","timestamp","unix","timeFormat","showTimezone","TickStatusTag","isStuckStarted","TimeElapsed","startUnix","endUnix","endTimestamp","includes","ButtonLink","Body2","requestedAssetMaterializationCount","div","paddingBottom","CursorHistoryControls","StatusLabels","Checkbox","checked","has","onChange","newStatuses","delete","add","styled","Table","TEMPLATE_COLUMNS","AutomaterializationTickDetailDialog","memo","isOpen","close","queryString","setQueryString","useState","filteredAssetKeys","useMemo","requestedAssetKeys","filter","assetKey","path","join","count","parentRef","useRef","rowVirtualizer","useVirtualizer","getScrollElement","current","estimateSize","overscan","totalHeight","getTotalSize","items","getVirtualItems","assetKeyToPartitionsMap","requestedMaterializationsForAssets","forEach","partitionKeys","tokenForAssetKey","content","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__","AssetKeysDialogEmptyState","title","description","Fragment","strong","overflow","ref","HeaderRow","templateColumns","sticky","HeaderCell","Inner","$totalHeight","key","size","start","AssetDetailRow","$height","$start","evaluationId","autoMaterializeAssetEvaluationId","Caption","color","Colors","AssetKeysDialog","setIsOpen","height","header","AssetKeysDialogHeader","showSearch","placeholder","display","gridTemplateRows","TickDetailSummary","undefined","Subtitle2","numMaterializations","queryResult","useQuery","ASSET_GROUP_QUERY","fetchPolicy","variables","data","useBlockTraceOnQueryResult","asset","assetOrError","__typename","definition","repoAddress","buildRepoAddress","repository","name","location","Row","RowGrid","RowCell","AssetLink","icon","textStyle","groupName","Link","to","workspacePathFromAddress","concat","Icon","assetDetailsPathForKey","view","evaluation","AutomaterializeRunHistoryTable","filterTags","useCursorPaginatedQuery","nextCursorForResult","runs","pipelineRunsOrError","results","PAGE_SIZE","getResultArray","tags","value","query","RUNS_ROOT_QUERY","pageSize","useQueryRefreshAtInterval","runData","previousData","_this","Wrapper","RunTable","withConfig","DeclarativeAutomationBanner","Alert","intent","a","href","target","rel","AUTOMATION_ASSET_SELECTION_FRAGMENT","DisclosureTriangleButton","onToggle","jsx_runtime","UnstyledButton","e","cursor","transform","AutomationTargetList","assetSelection","automationType","targets","repo","useRepository","span","visibleTargets","isHiddenAssetGroupJob","pipelineName","AssetSelectionTag","Tag","tooltipText","PipelineReference","pipelineHrefContext","isJob","isThisThingAJob","showAssetSelection","setShowAssetSelection","error","assetsOrError","sortedAssets","nodes","slice","sort","b","COMMON_COLLATOR","compare","displayNameForAssetKey","assetsWithAMP","autoMaterializePolicy","assetsWithoutAMP","assetSelectionString","isAllAssets","firstAsset","Dialog","onClose","maxWidth","minWidth","canOutsideClickClose","canEscapeKeyClose","maxHeight","minHeight","SensorType","AUTO_MATERIALIZE","AUTOMATION","Section","titleBorder","assets","DialogFooter","topBorder","Button","showCustomAlert","body","PythonErrorInfo","right","numberFormatter","format","overflowY","VirtualizedItemListForDialog","renderItem","VirtualizedSelectedAssetRow","itemBorders","MiddleTruncate","text","dayjs","relativeTime","COLOR_MAP","HoverColorMap","timestampFormat","memoize","Intl","DateTimeFormat","navigator","language","hour","minute","second","hourCycle","timeZone","timezone","browserTimezone","timeZoneName","LiveTickTimeline","onHoverTick","onSelectTick","exactRange","timeRange","MINUTE","tickGrid","timeAfter","now","setNow","Date","isPaused","setPaused","useEffect","interval","setInterval","clearInterval","maxX","minX","fullRange","viewport","containerProps","useViewport","ticksReversed","reverse","ticksToDisplay","i","startX","viewportWidth","endX","isStuckStartedTick","Math","max","timeTickGridDelta","tickGridDelta","startTickGridX","ceil","gridTicks","push","time","x","showLabel","useContext","TimeContext","marginRight","TicksWrapper","GridTick","GridTickLine","GridTickTime","isAssetDaemonTick","runIds","Tick","onMouseEnter","onMouseLeave","Tooltip","TickTooltip","NowIndicator","TimeAxisWrapper","ifPlural","startTime","endTime","elapsedTime","as","TickStatusDisplay","Chart","register","zoomPlugin","STATUS_DISPLAY_MAP","TicksTable","tabs","setTimerange","setParentStatuses","tickStatus","setTickStatus","useQueryPersistedState","queryKey","defaults","instigationSelector","repoAddressToSelector","React","instigationStateOrError","JOB_TICK_HISTORY_QUERY","FIFTEEN_SECONDS","state","end","Array","from","reset","logTick","setLogTick","NonIdealState","instigationType","TickLogDialog","StatusFilter","InstigationType","SENSOR","TickRow","marginTop","activeItem","find","Select","popoverProps","position","filterable","itemRenderer","item","props","MenuItem","active","modifiers","handleClick","itemListRenderer","filteredItems","renderedItems","Boolean","Menu","onItemSelect","rightIcon","TickHistoryTimeline","onHighlightRunIds","beforeTimestamp","afterTimestamp","selectedTickId","setSelectedTickId","encode","tickId","decode","qs","pollingPaused","pausePolling","limit","notifyOnNetworkStatusChange","Subheading","onTickClick","TickDetailsDialog","copyToClipboard","useCopyToClipboard","showResults","setShowResults","addedPartitions","deletedPartitions","requests","dynamicPartitionsRequestResults","countPartitionsAddedOrDeleted","DynamicPartitionsRequestType","ADD_PARTITIONS","DELETE_PARTITIONS","TimestampDisplay","showSeconds","fontFamily","FontFamily","monospace","fontSize","truncate","CopyButton","showSharedToaster","message","RunStatusLink","run","RUN_STATUS_FRAGMENT","TICK_TAG_FRAGMENT","HISTORY_TICK_FRAGMENT","button","IconWrapper","filterPermissionedInstigationState","instigationState","hasStartPermission","InstigationStatus","STOPPED","hasStopPermission","RUNNING","instigationStateSummary","anyOff","anyOn","instigationStates","initialState","step","completion","completed","errors","reducer","prevState","action","type","useInstigationStateReducer","useReducer","str","TRUNCATION_THRESHOLD","THREE_DAYS","reduce","sum","request","usePaginatedRunsTableRuns","RUN_TABLE_RUN_FRAGMENT","CronTag","cronSchedule","executionTimezone","humanString","humanCronString","Container","placement","SCHEDULE_ASSET_SELECTIONS_QUERY","errorDisplay","runningScheduleCount","Popover","interactionKind","popoverClassName","ul","li","fill","interactive","SensorMonitoredAssets","metadata","assetKeys","SensorResetButton","sensor","permissions","canStartSensor","canStopSensor","usePermissionsForLocation","sensorSelector","sensorName","resetSensor","toggleOnInFlight","useMutation","RESET_SENSOR_MUTATION","onCompleted","displaySensorMutationErrors","hasPermission","tooltipContent","defaultStatus","DEFAULT_DISABLED_REASON","disabled","DynamicPartitionRequests","includeTitle","rows","partitionsDefName","def","grow","borderRight","SensorDryRunDialog","SensorDryRun","sensorExecutionData","currentCursor","jobName","sensorDryRun","EVALUATE_SENSOR_MUTATION","setCursor","submitting","setSubmitting","setError","setSensorExecutionData","repositoryLocationName","repositoryName","submitTest","useCallback","result","selectorData","evaluationResult","assertUnreachable","data-testid","testId","cursorState","setCursorState","setCursorMutation","SET_CURSOR_MUTATION","onPersistCursorValue","setSensorCursor","Group","spacing","underline","runRequests","numRunRequests","didSkip","dynamicPartitionRequests","dynamicPartitionsRequests","Grid","pre","skipReason","RunRequestTable","TextInput","bottom","DialogBody","RUN_REQUEST_FRAGMENT","TIME_FORMAT","humanizeSensorInterval","minIntervalSeconds","SensorDetails","daemonHealth","refreshState","sensorState","isCursorEditing","setCursorEditing","latestTick","typeSpecificData","lastCursor","showTestTickDialog","setShowTestTickDialog","running","PageHeader","Heading","RepositoryLink","QueryRefreshCountdown","canShow","sensorType","STANDARD","MetadataTableWIP","nextTick","TargetCell","SensorSwitch","canReset","EditCursorDialog","SensorInfo","sensorDaemonStatus","assetDaemonStatus","boxProps","warnForSensor","healthy","required","warnForAssets","SENSOR_FRAGMENT","INSTIGATION_STATE_FRAGMENT","ASSET_SENSOR_TICKS_QUERY","SensorAutomaterializationEvaluationHistoryTable","JSON","parse","stringify","raw","sensorOrError","allTicks","SensorPageAutomaterialize","daemonStatus","setIsPaused","getVariables","currentTime","TWENTY_MINUTES","fetch","useLazyQuery","refresh","useRefreshAtInterval","enabled","intervalMs","leading","selectedTick","tableView","copy","runTableFilterTags","DagsterTag","RepositoryLabelTag","repoAddressAsTag","SensorName","assetDaemonHealth","SensorPreviousRuns","highlightedIds","PREVIOUS_RUNS_FOR_SENSOR_QUERY","RUNS_LIMIT","actionBarComponents","hideCreatedBy","SensorRoot","selectionQueryResult","useTrackPageView","useParams","useDocumentTitle","selectedTab","setSelectedTab","SENSOR_ROOT_QUERY","SENSOR_ASSET_SELECTIONS_QUERY","refreshState1","refreshState2","useMergedRefresh","Redirect","instance","ampDaemonStatus","Page","INSTANCE_HEALTH_FRAGMENT","makeSensorKey","repoAddressAsHumanString","makeAutomationKey","automationName","mode","runKey","showIcon","wrap","AnchorButton","config","runConfigYaml","tableLayout","showErrors","setShowErrors","tag","BaseTag","fillColor","runKeys","targetTagName","successTag","CheckAllBox","checkedCount","totalCount","onToggleAll","indeterminate","HTMLInputElement","useInstigationStatusFilter","onStateChanged","instigationStatus","vals","split","useStaticSetFilter","allValues","match","getKey","renderLabel","getStringValue","TEMPLATE_COLUMNS_WITH_CHECKBOX","VirtualizedScheduleRow","scheduleAssetSelectionQueryResult","onToggleChecked","showCheckboxColumn","scheduleState","querySchedule","scheduleQueryResult","SINGLE_SCHEDULE_QUERY","selector","scheduleName","queryScheduleAssetSelection","scheduleSelector","useDelayedRowQuery","scheduleData","scheduleOrError","checkboxState","$showCheckboxColumn","shiftKey","nativeEvent","MouseEvent","getModifierState","fontWeight","whiteSpace","textOverflow","LoadingOrNone","ScheduleSwitch","schedule","runningCount","LastRunSummary","showButton","showHover","showSummary","partitionSet","MenuLink","VirtualizedScheduleHeader","checkbox","RUN_TIME_FRAGMENT","SCHEDULE_SWITCH_FRAGMENT","VirtualizedSensorRow","sensorAssetSelectionQueryResult","querySensor","sensorQueryResult","SINGLE_SENSOR_QUERY","querySensorAssetSelection","sensorData","sensorInfo","SENSOR_TYPE_META","selectedAssets","VirtualizedSensorHeader","ASSET","FRESHNESS_POLICY","MULTI_ASSET","RUN_STATUS","UNKNOWN","SENSOR_SWITCH_FRAGMENT"],"sourceRoot":""}